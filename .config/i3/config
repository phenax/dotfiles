# Mod4 = windows key on keyboard or super key
# Alt key is Mod1 if you want to change the $mod key
set $mod Mod4


################### FONTS ######################
font pango:Fira Code, Font Awesome 5 Free Solid, Font Awesome 5 Free Regular, Font Awesome 5 Brands 10


###################       STOPPING A PROGRAM      ##############################

# kill focused window
bindsym $mod+Shift+q kill


################### MOVING AROUND ##############################


# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right


################### TILING PARAMETERS ##############################

# orientation for new workspaces 
default_orientation horizontal

workspace_layout tabbed

# split in horizontal orientation
bindsym $mod+Shift+h split h

# split in vertical orientation
bindsym $mod+Shift+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+z layout tabbed
bindsym $mod+e layout toggle split


# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+q focus parent

# focus the child container
#bindsym $mod+d focus child


################### RELOAD ##############################


# reload the configuration file
bindsym $mod+Shift+c reload

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart


################### RESIZE ##############################


# resize window (you can also use the mouse for that)
mode "resize" {
  bindsym Left resize shrink width 10 px or 10 ppt
  bindsym Down resize grow height 10 px or 10 ppt
  bindsym Up resize shrink height 10 px or 10 ppt
  bindsym Right resize grow width 10 px or 10 ppt

  # back to normal: Enter or Escape
  bindsym Return mode "default"
  bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"




# KEY DEFINITIONS

# $Mod = WINDOWS key or Super key or Mod4
# Mod1 = ALT key
# Control = CTRL key
# Shift = SHIFT key
# Escape = ESCAPE key
# Return = ENTER or RETURN key
# Pause = PAUSE key
# Print = PRINT key
# Tab = TAB key



################### SHORTCUT Applications ######################

bindsym $mod+Return exec i3-sensible-terminal; focus
bindsym $mod+c exec browser; focus

# Open reg projects
bindsym $mod+Shift+m exec surf https://github.com/peopleGroup/shaadi-react-reg/projects/1?fullscreen=true; focus

# Calendar
bindsym $mod+Shift+t exec kitty --session ~/scripts/kitty-sessions/calendar --class Calendar; focus

# Clock
# bindsym $mod+t with_zsh "time"

### Spotify mode
set $spotifymsg Spotify: <Left Enter Right>
bindsym $mod+m mode "$spotifymsg"
mode "$spotifymsg" {
  bindsym Right exec ~/scripts/spotify.sh next && i3-msg 'mode "default"'
  bindsym Left exec ~/scripts/spotify.sh prev && i3-msg 'mode "default"'
  bindsym Return exec ~/scripts/spotify.sh play_pause && i3-msg 'mode "default"'

  # back to normal: Escape
  bindsym Escape mode "default"
}

#bindsym XF86AudioPlay exec ~/scripts/spotify.sh play_pause
#bindsym XF86AudioNext exec ~/scripts/spotify.sh next
#bindsym XF86AudioPrev exec ~/scripts/spotify.sh prev

################### MENU SHORTCUTS ######################

# start dmenu (a program launcher)
bindsym $mod+d exec rofi -modi drun#window#run -show drun
bindsym $mod+Shift+semicolon exec rofi -modi calc -show calc
bindsym $mod+Shift+p exec rofi-pass
bindsym $mod+Shift+o exec with_zsh "~/scripts/open-project.sh"
bindsym $mod+Shift+i exec with_zsh "~/scripts/bookmarks-menu/bookmarker.sh menu"
bindsym $mod+Shift+g exec with_zsh "~/scripts/bookmarks-menu/gh-projects.sh menu"
bindsym $mod+Shift+e exec with_zsh "~/scripts/fontawesome-menu/fa-menu.sh menu"


################### DUAL SCREEN ######################

set $firstMonitor eDP-1 
set $secondMonitor HDMI-1

set $ws1 1
set $ws2 2
set $ws3 3
set $ws4 4
set $ws5 5
set $ws6 "6: "
set $ws7 "7: "
set $ws8 8
set $ws9 "9: "
set $ws10 "10: "

workspace $ws1 output $firstMonitor
workspace $ws2 output $firstMonitor
workspace $ws3 output $firstMonitor
workspace $ws4 output $firstMonitor
workspace $ws5 output $firstMonitor
workspace $ws6 output $secondMonitor
workspace $ws7 output $secondMonitor
workspace $ws8 output $secondMonitor
workspace $ws9 output $secondMonitor
workspace $ws10 output $secondMonitor

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10


################### ASSIGN ######################

assign [class="brave-browser"]       → $ws6
assign [class="Calendar"]            → $ws9
assign [class="Spotify"]             → $ws10

for_window [class="Spotify"] move to workspace $ws10
for_window [class="brave-browser"] move to workspace $ws6


################### EXECUTE ######################


# TRAY APPLICATIONS
exec --no-startup-id nm-applet
exec pasystray
exec blueberry-tray

# BG PROCESSES
exec --no-startup-id ~/.fehbg
exec --no-startup-id dunst -config ~/.config/i3/dunstrc
exec_always compton --config ~/.config/i3/compton.conf
exec unclutter 
# exec_always --no-startup-id numlockx on
#exec clipit

# USER APPLICATIONS
exec browser
exec spotify

################### SHORTCUTS WORKSPACES ######################

# next/previous workspace

bindsym Mod1+Tab workspace next
bindsym Mod1+Shift+Tab workspace prev
bindsym $mod+Tab workspace back_and_forth

#navigate workspaces next / previous
bindsym Mod1+Ctrl+Right workspace next
bindsym Mod1+Ctrl+Left workspace prev

# switch to workspace with urgent window automatically
for_window [urgent=latest] focus


################### SCREENSHOTS ######################

bindsym Print exec scrot '%Y-%m-%d-%s_screenshot_$wx$h.jpg' -e 'mv $f ~/Pictures/'
bindsym Control+Print exec gnome-screenshot -a

################### FLOATING OR TILED ######################

popup_during_fullscreen smart

################### POWER ######################

bindsym $mod+Delete mode "$mode_system"

set $mode_system System (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (Shift+s) shutdown
mode "$mode_system" {
  bindsym l exec --no-startup-id ~/.config/i3/i3exit.sh lock, mode "default"
  bindsym e exec --no-startup-id ~/.config/i3/i3exit.sh logout, mode "default"
  bindsym s exec --no-startup-id ~/.config/i3/i3exit.sh suspend, mode "default"
  bindsym h exec --no-startup-id ~/.config/i3/i3exit.sh hibernate, mode "default"
  bindsym r exec --no-startup-id ~/.config/i3/i3exit.sh reboot, mode "default"
  bindsym Shift+s exec --no-startup-id ~/.config/i3/i3exit.sh shutdown, mode "default"

  # back to normal: Enter or Escape
  bindsym Return mode "default"
  bindsym Escape mode "default"
}

bindsym Ctrl+Shift+l exec ~/scripts/lockscreen.sh

################### System buttons ######################

bindsym XF86MonBrightnessUp exec ~/scripts/brightness.sh inc    # increase screen brightness
bindsym XF86MonBrightnessDown exec ~/scripts/brightness.sh dec  # decrease screen brightness

bindsym XF86AudioRaiseVolume exec "amixer -D pulse sset Master '5%+'"
bindsym XF86AudioLowerVolume exec "amixer -D pulse sset Master '5%-'"
bindsym XF86AudioMute exec "amixer -D pulse set Master toggle"

################### BAR ######################


# bar toggle, hide or show 
bindsym $mod+b bar mode toggle


################### BORDER ######################


# Border control
hide_edge_borders both
bindsym $mod+shift+b exec i3-msg border toggle

#changing border style
# bindsym $mod+t border normal
# bindsym $mod+y border 1pixel
bindsym $mod+u border none

################### BAR APPEARANCE ######################
bar {
  status_command ~/scripts/i3status/start.sh

  bindsym button4 nop
  bindsym button5 nop

  height 22
  workspace_buttons yes
  separator_symbol " :: "

  colors {
    background #2F2F2F
    statusline #d6d6d6
    separator #666666

    #                     border  backgr. text
    focused_workspace     #60a3bc #60a3bc #2f2f2f
    active_workspace      #505050 #505050 #a9a9a9
    inactive_workspace    #222222 #222222 #a9a9a9
    urgent_workspace      #4A4A4A #4A4A4A #a9a9a9
  }
}

# class                 border  backgr. text    indicator
client.placeholder      #242424 #242424 #242424
client.background       #242424 #242424 #242424
client.focused          #4A4A4A #4A4A4A #e5e5e5 #4A4A4A
client.unfocused        #222222 #222222 #aaaaaa #222222
client.focused_inactive #222222 #222222 #a9a9a9 #222222
client.urgent           #4A4A4A #4A4A4A #f7f7f7 #4A4A4A


################### i3 gaps ##############################

for_window [class="^.*"] border pixel 3
gaps inner 0
gaps outer 0
#smart_gaps on
#smart_borders on


################## Help view ##############################
for_window [class="PhenaxHelpView"] floating enable; move position 50% 50%
bindsym Ctrl+\? exec ~/scripts/helpview/start.sh

################## ORG window ##############################
for_window [class="OrgWindow"] floating enable; resize shrink width 500 px; move position 50% 50%
bindsym $mod+n exec ~/scripts/org.sh

