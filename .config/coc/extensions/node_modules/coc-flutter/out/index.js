!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=38)}([function(e,t){e.exports=require("coc.nvim")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Dispose=class{constructor(){this.subscriptions=[]}push(...e){this.subscriptions.push(...e)}remove(e){this.subscriptions=this.subscriptions.filter(t=>e!==t||(t.dispose(),!1))}dispose(){this.subscriptions.length&&(this.subscriptions.forEach(e=>{e.dispose()}),this.subscriptions=[])}}},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(6),o=n(1);class a extends o.Dispose{init(e){this._traceServer=e,"off"!==this._traceServer&&(this._outchannel=i.workspace.createOutputChannel("flutter"),this.push(this._outchannel));const t=i.workspace.registerAutocmd({event:["BufEnter"],request:!0,callback:()=>r(this,void 0,void 0,(function*(){const e=yield i.workspace.document,n=i.Uri.parse(e.uri);if(n&&n.fsPath&&n.fsPath.endsWith(s.devLogName)){const{nvim:e}=i.workspace,n=yield e.window;yield n.setOption("wrap",!1),t.dispose()}}))});this.push(t)}set outchannel(e){this._outchannel=e}get outchannel(){return this._outchannel}get devOutchannel(){return this._devOutchannel||(this._devOutchannel=i.workspace.createOutputChannel(s.devLogName),this.push(this._devOutchannel)),this._devOutchannel}get traceServer(){return this._traceServer}getlog(e){return t=>{t&&this._outchannel&&this._outchannel.appendLine(`[${e}]: ${t}`)}}dispose(){super.dispose(),this._outchannel=void 0,this._devOutchannel=void 0,this._traceServer=void 0}}t.logger=new a},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(12),s=n(101);t.RequestType=s.RequestType,t.RequestType0=s.RequestType0,t.RequestType1=s.RequestType1,t.RequestType2=s.RequestType2,t.RequestType3=s.RequestType3,t.RequestType4=s.RequestType4,t.RequestType5=s.RequestType5,t.RequestType6=s.RequestType6,t.RequestType7=s.RequestType7,t.RequestType8=s.RequestType8,t.RequestType9=s.RequestType9,t.ResponseError=s.ResponseError,t.ErrorCodes=s.ErrorCodes,t.NotificationType=s.NotificationType,t.NotificationType0=s.NotificationType0,t.NotificationType1=s.NotificationType1,t.NotificationType2=s.NotificationType2,t.NotificationType3=s.NotificationType3,t.NotificationType4=s.NotificationType4,t.NotificationType5=s.NotificationType5,t.NotificationType6=s.NotificationType6,t.NotificationType7=s.NotificationType7,t.NotificationType8=s.NotificationType8,t.NotificationType9=s.NotificationType9;const o=n(25);t.MessageReader=o.MessageReader,t.StreamMessageReader=o.StreamMessageReader,t.IPCMessageReader=o.IPCMessageReader,t.SocketMessageReader=o.SocketMessageReader;const a=n(26);t.MessageWriter=a.MessageWriter,t.StreamMessageWriter=a.StreamMessageWriter,t.IPCMessageWriter=a.IPCMessageWriter,t.SocketMessageWriter=a.SocketMessageWriter;const u=n(17);t.Disposable=u.Disposable,t.Event=u.Event,t.Emitter=u.Emitter;const c=n(102);t.CancellationTokenSource=c.CancellationTokenSource,t.CancellationToken=c.CancellationToken;const l=n(103);var d,h,f,p,g,m,v;r(n(104)),r(n(106)),function(e){e.type=new s.NotificationType("$/cancelRequest")}(d||(d={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(h=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(h=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(f=t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(f=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new s.NotificationType("$/setTraceNotification")}(p=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new s.NotificationType("$/logTraceNotification")}(g=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(m=t.ConnectionErrors||(t.ConnectionErrors={}));class y extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,y.prototype)}}function _(e,t,n,r){let o=0,a=0,_=0;const b="2.0";let w,S,R=void 0,E=Object.create(null),x=void 0,T=Object.create(null),C=new l.LinkedMap,k=Object.create(null),A=Object.create(null),O=h.Off,P=f.Text,D=v.New,M=new u.Emitter,L=new u.Emitter,N=new u.Emitter,$=new u.Emitter;function F(e){return"req-"+e.toString()}function I(e,t){var n;s.isRequestMessage(t)?e.set(F(t.id),t):s.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++_).toString():"res-"+n.toString(),t):e.set("not-"+(++a).toString(),t)}function H(e){}function q(){return D===v.Listening}function j(){return D===v.Closed}function B(){return D===v.Disposed}function W(){D!==v.New&&D!==v.Listening||(D=v.Closed,L.fire(void 0))}function U(){w||0===C.size||(w=setImmediate(()=>{w=void 0,function(){if(0===C.size)return;let e=C.shift();try{s.isRequestMessage(e)?function(e){if(B())return;function n(n,r,i){let o={jsonrpc:b,id:e.id};n instanceof s.ResponseError?o.error=n.toJson():o.result=void 0===n?null:n,G(o,r,i),t.write(o)}function r(n,r,i){let s={jsonrpc:b,id:e.id,error:n.toJson()};G(s,r,i),t.write(s)}!function(e){if(O===h.Off||!S)return;if(P===f.Text){let t=void 0;O===h.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),S.log(`Received request '${e.method} - (${e.id})'.`,t)}else V("receive-request",e)}(e);let o,a,u=E[e.method];u&&(o=u.type,a=u.handler);let l=Date.now();if(a||R){let u=new c.CancellationTokenSource,d=String(e.id);A[d]=u;try{let c,h=c=void 0===e.params||void 0!==o&&0===o.numberOfParams?a?a(u.token):R(e.method,u.token):i.array(e.params)&&(void 0===o||o.numberOfParams>1)?a?a(...e.params,u.token):R(e.method,...e.params,u.token):a?a(e.params,u.token):R(e.method,e.params,u.token);c?h.then?h.then(t=>{delete A[d],n(t,e.method,l)},t=>{delete A[d],t instanceof s.ResponseError?r(t,e.method,l):t&&i.string(t.message)?r(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,l):r(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)}):(delete A[d],n(c,e.method,l)):(delete A[d],function(n,r,i){void 0===n&&(n=null);let s={jsonrpc:b,id:e.id,result:n};G(s,r,i),t.write(s)}(c,e.method,l))}catch(t){delete A[d],t instanceof s.ResponseError?n(t,e.method,l):t&&i.string(t.message)?r(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,l):r(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)}}else r(new s.ResponseError(s.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,l)}(e):s.isNotificationMessage(e)?function(e){if(B())return;let t,r=void 0;if(e.method===d.type.method)t=e=>{let t=e.id,n=A[String(t)];n&&n.cancel()};else{let n=T[e.method];n&&(t=n.handler,r=n.type)}if(t||x)try{!function(e){if(O===h.Off||!S||e.method===g.type.method)return;if(P===f.Text){let t=void 0;O===h.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),S.log(`Received notification '${e.method}'.`,t)}else V("receive-notification",e)}(e),void 0===e.params||void 0!==r&&0===r.numberOfParams?t?t():x(e.method):i.array(e.params)&&(void 0===r||r.numberOfParams>1)?t?t(...e.params):x(e.method,...e.params):t?t(e.params):x(e.method,e.params)}catch(t){t.message?n.error(`Notification handler '${e.method}' failed with message: ${t.message}`):n.error(`Notification handler '${e.method}' failed unexpectedly.`)}else N.fire(e)}(e):s.isResponseMessage(e)?function(e){if(B())return;if(null===e.id)e.error?n.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):n.error("Received response message without id. No further error information provided.");else{let t=String(e.id),r=k[t];if(function(e,t){if(O===h.Off||!S)return;if(P===f.Text){let n=void 0;if(O===h.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){let r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";S.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else S.log(`Received response ${e.id} without active response promise.`,n)}else V("receive-response",e)}(e,r),r){delete k[t];try{if(e.error){let t=e.error;r.reject(new s.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");r.resolve(e.result)}}catch(e){e.message?n.error(`Response handler '${r.method}' failed with message: ${e.message}`):n.error(`Response handler '${r.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void n.error("Received empty message.");n.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);let t=e;if(i.string(t.id)||i.number(t.id)){let e=String(t.id),n=k[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{U()}}()}))}e.onClose(W),e.onError((function(e){M.fire([e,void 0,void 0])})),t.onClose(W),t.onError((function(e){M.fire(e)}));let K=e=>{try{if(s.isNotificationMessage(e)&&e.method===d.type.method){let n=F(e.params.id),i=C.get(n);if(s.isRequestMessage(i)){let s=r&&r.cancelUndispatched?r.cancelUndispatched(i,H):void 0;if(s&&(void 0!==s.error||void 0!==s.result))return C.delete(n),s.id=i.id,G(s,e.method,Date.now()),void t.write(s)}}I(C,e)}finally{U()}};function G(e,t,n){if(O!==h.Off&&S)if(P===f.Text){let r=void 0;O===h.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),S.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else V("send-response",e)}function V(e,t){if(!S||O===h.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};S.log(n)}function z(){if(j())throw new y(m.Closed,"Connection is closed.");if(B())throw new y(m.Disposed,"Connection is disposed.")}function Q(e){return void 0===e?null:e}function Y(e,t){let n,r=e.numberOfParams;switch(r){case 0:n=null;break;case 1:n=Q(t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(Q(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}let X={sendNotification:(e,...n)=>{let r,s;if(z(),i.string(e))switch(r=e,n.length){case 0:s=null;break;case 1:s=n[0];break;default:s=n}else r=e.method,s=Y(e,n);let o={jsonrpc:b,method:r,params:s};!function(e){if(O!==h.Off&&S)if(P===f.Text){let t=void 0;O===h.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),S.log(`Sending notification '${e.method}'.`,t)}else V("send-notification",e)}(o),t.write(o)},onNotification:(e,t)=>{z(),i.func(e)?x=e:t&&(i.string(e)?T[e]={type:void 0,handler:t}:T[e.method]={type:e,handler:t})},sendRequest:(e,...n)=>{let r,a;z(),function(){if(!q())throw new Error("Call listen() first.")}();let u=void 0;if(i.string(e))switch(r=e,n.length){case 0:a=null;break;case 1:c.CancellationToken.is(n[0])?(a=null,u=n[0]):a=Q(n[0]);break;default:const e=n.length-1;c.CancellationToken.is(n[e])?(u=n[e],a=2===n.length?Q(n[0]):n.slice(0,e).map(e=>Q(e))):a=n.map(e=>Q(e))}else{r=e.method,a=Y(e,n);let t=e.numberOfParams;u=c.CancellationToken.is(n[t])?n[t]:void 0}let l=o++,p=new Promise((e,n)=>{let i={jsonrpc:b,id:l,method:r,params:a},o={method:r,timerStart:Date.now(),resolve:e,reject:n};!function(e){if(O!==h.Off&&S)if(P===f.Text){let t=void 0;O===h.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),S.log(`Sending request '${e.method} - (${e.id})'.`,t)}else V("send-request",e)}(i);try{t.write(i)}catch(e){o.reject(new s.ResponseError(s.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),o=null}o&&(k[String(l)]=o)});return u&&u.onCancellationRequested(()=>{X.sendNotification(d.type,{id:l})}),p},onRequest:(e,t)=>{z(),i.func(e)?R=e:t&&(i.string(e)?E[e]={type:void 0,handler:t}:E[e.method]={type:e,handler:t})},trace:(e,t,n)=>{let r=!1,s=f.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,s=n.traceFormat||f.Text)),P=s,S=(O=e)===h.Off?void 0:t,!r||j()||B()||X.sendNotification(p.type,{value:h.toString(e)})},onError:M.event,onClose:L.event,onUnhandledNotification:N.event,onDispose:$.event,dispose:()=>{if(B())return;D=v.Disposed,$.fire(void 0);let n=new Error("Connection got disposed.");Object.keys(k).forEach(e=>{k[e].reject(n)}),k=Object.create(null),A=Object.create(null),C=new l.LinkedMap,i.func(t.dispose)&&t.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{z(),function(){if(q())throw new y(m.AlreadyListening,"Connection is already listening")}(),D=v.Listening,e.listen(K)},inspect:()=>{console.log("inspect")}};return X.onNotification(g.type,e=>{O!==h.Off&&S&&S.log(e.message,O===h.Verbose?e.verbose:void 0)}),X}t.ConnectionError=y,function(e){e.is=function(e){let t=e;return t&&i.func(t.cancelUndispatched)}}(t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(v||(v={})),t.createMessageConnection=function(e,n,r,i){var s;return r||(r=t.NullLogger),_(void 0!==(s=e).listen&&void 0===s.read?e:new o.StreamMessageReader(e),function(e){return void 0!==e.write&&void 0===e.end}(n)?n:new a.StreamMessageWriter(n),r,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lineBreak=/\r?\n/,t.cmdPrefix="flutter",t.devLogName="flutter-dev"},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(8)),o=n(2),a=n(13),u=i(n(41)),c=n(0);t.exists=e=>r(void 0,void 0,void 0,(function*(){return new Promise(t=>{s.default.exists(e,e=>{t(e)})})})),t.findWorkspaceFolders=(e,t)=>r(void 0,void 0,void 0,(function*(){return(yield u.default(t,{onlyFiles:!0,cwd:e,deep:10})).map(t=>o.join(e,o.dirname(t)))})),t.closestPath=e=>{if(e.length)return e.slice().sort((e,t)=>e.split(o.sep).length-t.split(o.sep).length)[0]},t.findWorkspaceFolder=(e,n)=>r(void 0,void 0,void 0,(function*(){return t.closestPath(yield t.findWorkspaceFolders(e,n))})),t.getFlutterWorkspaceFolder=()=>r(void 0,void 0,void 0,(function*(){return yield t.findWorkspaceFolder(c.Uri.parse(c.workspace.workspaceFolder.uri).fsPath,["**/pubspec.yaml"])})),t.execCommand=(e,t={})=>new Promise(n=>{let r=0;a.exec(e,Object.assign({encoding:"utf-8"},t),(e,t="",i="")=>{n({code:r,err:e,stdout:t,stderr:i})}).on("exit",e=>e&&(r=e))}),t.isSymbolLink=e=>r(void 0,void 0,void 0,(function*(){return new Promise(t=>{s.default.lstat(e,(e,n)=>{t({err:e,stats:n&&n.isSymbolicLink()})})})})),t.getRealPath=e=>r(void 0,void 0,void 0,(function*(){const{err:n,stats:r}=yield t.isSymbolLink(e);return!n&&r?new Promise(t=>{s.default.realpath(e,(n,r)=>{if(n)return t(e);t(r)})}):e}))},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(43);t.array=r;const i=n(44);t.errno=i;const s=n(45);t.fs=s;const o=n(46);t.path=o;const a=n(47);t.pattern=a;const u=n(63);t.stream=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66),i=n(67),s=n(68);function o(e={}){return e instanceof s.default?e:new s.default(e)}t.Settings=s.default,t.stat=function(e,t,n){if("function"==typeof t)return r.read(e,o(),t);r.read(e,o(t),n)},t.statSync=function(e,t){const n=o(t);return i.read(e,n)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(1),o=n(92),a=60,u=1e3/30,c=3e3;class l extends s.Dispose{constructor(){super(),this.isSupportFloat=!1,this.top=1,this.maxWidth=a,this.messages=[],this.display=[],this.timeGap=u,this.init()}init(){return r(this,void 0,void 0,(function*(){const{nvim:e}=i.workspace;this.isSupportFloat=!!(yield e.call("exists","*nvim_open_win"));const t=yield e.getOption("columns");this.maxWidth=Math.min(this.maxWidth,t)}))}detect(){return r(this,void 0,void 0,(function*(){this.timer&&clearTimeout(this.timer);const{timeGap:e,display:t}=this;let{top:n}=this;this.display=[];for(const r of t)r.isInvalid?r.dispose():(yield r.update(e,n),n+=r.height,this.display.push(r));const{nvim:r}=i.workspace,s=(yield r.getOption("lines"))-1;for(;this.messages.length;){const e=this.messages[this.messages.length-1];if(n+e.height>s)break;this.messages.pop(),yield e.show(n),this.display.push(e),n+=e.height}this.timer=setTimeout(()=>{this.detect()},this.timeGap)}))}show(e,t=c){const n=[].concat(e);if(0!==n.length){if(!this.isSupportFloat)return i.workspace.showMessage(n.join("\n"));this.messages.push(new o.Message(n,this.maxWidth,t)),this.detect()}}dispose(){this.timer&&clearTimeout(this.timer),this.push(...this.display),this.messages=[],this.display=[],super.dispose()}}t.notification=new l},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every(e=>r(e))}},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";const r=n(2),i="win32"===process.platform,{REGEX_SPECIAL_CHARS:s,REGEX_SPECIAL_CHARS_GLOBAL:o,REGEX_REMOVE_BACKSLASH:a}=n(15);t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>s.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(o,"\\$1"),t.toPosixSlashes=e=>e.replace(/\\/g,"/"),t.removeBackslashes=e=>e.replace(a,e=>"\\"===e?"":e),t.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".");return 3===e.length&&+e[0]>=9||8==+e[0]&&+e[1]>=10},t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===i||"\\"===r.sep,t.escapeLast=(e,n,r)=>{let i=e.lastIndexOf(n,r);return-1===i?e:"\\"===e[i-1]?t.escapeLast(e,n,i-1):e.slice(0,i)+"\\"+e.slice(i)}},function(e,t,n){"use strict";const r=n(2),i={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},s={...i,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};e.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHAR:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:r.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?s:i}},function(e,t){e.exports=require("stream")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={})),function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class r{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var n=!1,r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],n=this._callbacks.slice(0),r=this._contexts.slice(0),i=0,s=n.length;i<s;i++)try{t.push(n[i].apply(r[i],e))}catch(e){console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{let s;return this._callbacks||(this._callbacks=new r),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),s={dispose:()=>{this._callbacks.remove(e,t),s.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(s),s}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}i._noop=function(){},t.Emitter=i},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";const r=n(20);e.exports=(e,t={})=>{let n=(e,i={})=>{let s=t.escapeInvalid&&r.isInvalidBrace(i),o=!0===e.invalid&&!0===t.escapeInvalid,a="";if(e.value)return(s||o)&&r.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)a+=n(t);return a};return n(e)}},function(e,t,n){"use strict";t.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),t.find=(e,t)=>e.nodes.find(e=>e.type===t),t.exceedsLimit=(e,n,r=1,i)=>!1!==i&&(!(!t.isInteger(e)||!t.isInteger(n))&&(Number(n)-Number(e))/Number(r)>=i),t.escapeNode=(e,t=0,n)=>{let r=e.nodes[t];r&&(n&&r.type===n||"open"===r.type||"close"===r.type)&&!0!==r.escaped&&(r.value="\\"+r.value,r.escaped=!0)},t.encloseBrace=e=>"brace"===e.type&&(e.commas>>0+e.ranges>>0==0&&(e.invalid=!0,!0)),t.isInvalidBrace=e=>"brace"===e.type&&(!(!0!==e.invalid&&!e.dollar)||(e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):(!0!==e.open||!0!==e.close)&&(e.invalid=!0,!0))),t.isOpenOrClose=e=>"open"===e.type||"close"===e.type||(!0===e.open||!0===e.close),t.reduce=e=>e.reduce((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e),[]),t.flatten=(...e)=>{const t=[],n=e=>{for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?n(i,t):void 0!==i&&t.push(i)}return t};return n(e),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(72),i=n(75),s=n(76);function o(e={}){return e instanceof s.default?e:new s.default(e)}t.Settings=s.default,t.scandir=function(e,t,n){if("function"==typeof t)return r.read(e,o(),t);r.read(e,o(t),n)},t.scandirSync=function(e,t){const n=o(t);return i.read(e,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFatalError=function(e,t){return null===e.errorFilter||!e.errorFilter(t)},t.isAppliedFilter=function(e,t){return null===e||e(t)},t.replacePathSegmentSeparator=function(e,t){return e.split(/[\\/]/).join(t)},t.joinPathSegments=function(e,t,n){return""===e?t:e+n+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(84),s=n(85),o=n(86),a=n(87);t.default=class{constructor(e){this._settings=e,this.errorFilter=new o.default(this._settings),this.entryFilter=new s.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new i.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new a.default(this._settings)}_getRootDirectory(e){return r.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){const t="."===e.base?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(5);t.ErrorCodes=i.ErrorCodes,t.ResponseError=i.ResponseError,t.CancellationToken=i.CancellationToken,t.CancellationTokenSource=i.CancellationTokenSource,t.Disposable=i.Disposable,t.Event=i.Event,t.Emitter=i.Emitter,t.Trace=i.Trace,t.TraceFormat=i.TraceFormat,t.SetTraceNotification=i.SetTraceNotification,t.LogTraceNotification=i.LogTraceNotification,t.RequestType=i.RequestType,t.RequestType0=i.RequestType0,t.NotificationType=i.NotificationType,t.NotificationType0=i.NotificationType0,t.MessageReader=i.MessageReader,t.MessageWriter=i.MessageWriter,t.ConnectionStrategy=i.ConnectionStrategy,t.StreamMessageReader=i.StreamMessageReader,t.StreamMessageWriter=i.StreamMessageWriter,t.IPCMessageReader=i.IPCMessageReader,t.IPCMessageWriter=i.IPCMessageWriter,t.createClientPipeTransport=i.createClientPipeTransport,t.createServerPipeTransport=i.createServerPipeTransport,t.generateRandomPipeName=i.generateRandomPipeName,t.createClientSocketTransport=i.createClientSocketTransport,t.createServerSocketTransport=i.createServerSocketTransport,r(n(107)),r(n(108)),t.createProtocolConnection=function(e,t,n,r){return i.createMessageConnection(e,t,n,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17),i=n(12);let s=8192,o=Buffer.from("\r","ascii")[0],a=Buffer.from("\n","ascii")[0],u="\r\n";class c{constructor(e="utf8"){this.encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(s)}append(e){var t=e;if("string"==typeof e){var n=e,r=Buffer.byteLength(n,this.encoding);(t=Buffer.allocUnsafe(r)).write(n,0,r,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var i=(Math.ceil((this.index+t.length)/s)+1)*s;0===this.index?(this.buffer=Buffer.allocUnsafe(i),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],i)}this.index+=t.length}tryReadHeaders(){let e=void 0,t=0;for(;t+3<this.index&&(this.buffer[t]!==o||this.buffer[t+1]!==a||this.buffer[t+2]!==o||this.buffer[t+3]!==a);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split(u).forEach(t=>{let n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");let r=t.substr(0,n),i=t.substr(n+1).trim();e[r]=i});let n=t+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),n=e;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,t}get numberOfBytes(){return this.index}}!function(e){e.is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));class l{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter,this.partialMessageEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader recevied error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=l;class d extends l{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new c(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",e=>{this.onData(e)}),this.readable.on("error",e=>this.fireError(e)),this.readable.on("close",()=>this.fireClose())}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(t);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}t.StreamMessageReader=d;t.IPCMessageReader=class extends l{constructor(e){super(),this.process=e;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose())}listen(e){this.process.on("message",e)}};t.SocketMessageReader=class extends d{constructor(e,t="utf-8"){super(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17),i=n(12);let s="Content-Length: ",o="\r\n";!function(e){e.is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));class a{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer recevied error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=a;t.StreamMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",e=>this.fireError(e)),this.writable.on("close",()=>this.fireClose())}write(e){let t=JSON.stringify(e),n=Buffer.byteLength(t,this.encoding),r=[s,n.toString(),o,o];try{this.writable.write(r.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};t.IPCMessageWriter=class extends a{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose)}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};t.SocketMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",e=>this.fireError(e)),this.socket.on("close",()=>this.fireClose())}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){let t=JSON.stringify(e),n=Buffer.byteLength(t,this.encoding),r=[s,n.toString(),o,o];try{this.sending=!0,this.socket.write(r.join(""),"ascii",n=>{n&&this.handleError(n,e);try{this.socket.write(t,this.encoding,t=>{this.sending=!1,t?this.handleError(t,e):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(n){this.handleError(n,e)}})}catch(t){this.handleError(t,e)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=i(n(4)),a=n(13),u=n(7),c=n(6),l=n(3),d=n(11),h=n(1),f=l.logger.getlog("server");class p extends h.Dispose{constructor(){super(),this.onHandler=[],this.isAutoScroll=!1,this._onError=e=>{this.task=void 0,f(`server error: ${e.message}`)},this._onExit=e=>{this.task=void 0,f(`server exit with: ${e}`)},this.push({dispose:()=>{if(this.task)try{this.task.kill(),this.task=void 0}catch(e){f(`dispose server error: ${e.message}`)}}})}devLog(e){this.outputChannel&&this.outputChannel.append(e)}get state(){return!!this.task&&this.task.stdin.writable}start(e){return r(this,void 0,void 0,(function*(){if(this.task&&this.task.stdin.writable)return d.notification.show("Flutter dev server is running!"),!1;const t=yield u.getFlutterWorkspaceFolder();return t?(f(`server start at: ${t}`),d.notification.show("Start flutter dev server..."),this.outputChannel?this.outputChannel.clear():this.outputChannel=l.logger.devOutchannel,this.task=a.spawn("flutter",e,{cwd:t,detached:!1,shell:"win32"===o.default.platform()||void 0}),this.task.on("exit",this._onExit),this.task.on("error",this._onError),this.onHandler.length&&(this.onHandler.forEach(e=>e()),this.onHandler=[]),!0):(d.notification.show("Flutter project workspaceFolder not found!"),!1)}))}onExit(e){const t=()=>{this.task.on("exit",e)};this.task?t():this.onHandler.push(t)}onError(e){this.task?this.task.on("error",e):this.onHandler.push(()=>{this.task.on("error",e)})}onData(e,t){const n=()=>{this.task[e].on("data",e=>{const n=e.toString();this.devLog(n),t(n.split(c.lineBreak))})};this.task&&this.task[e]?n():this.onHandler.push(n)}onStdout(e){this.onData("stdout",e)}onStderr(e){this.onData("stderr",e)}sendCommand(e){e&&(this.task&&this.task.stdin.writable?this.task.stdin.write(e):d.notification.show("Flutter server is not running!"))}clearDevLog(){this.outputChannel&&this.outputChannel.clear()}openDevLog(){return r(this,void 0,void 0,(function*(){const e=s.workspace.getConfiguration("flutter").get("openDevLogSplitCommand","");if(this.outputChannel)if(e){const t=yield s.workspace.nvim.window;yield s.workspace.nvim.command(`${e} output:///${c.devLogName}`),s.workspace.nvim.call("win_gotoid",[t.id])}else this.outputChannel.show();setTimeout(()=>{this.autoScrollLogWin()},1e3)}))}autoScrollLogWin(){return r(this,void 0,void 0,(function*(){if(this.isAutoScroll)return;this.isAutoScroll=!0;const e=yield s.workspace.nvim.buffers;for(const t of e){const e=yield t.name;if(f(`bufName ${e}`),e===`output:///${c.devLogName}`){if(!(yield t.attach(!1)))return f(`Attach buf ${e} error`),void(this.isAutoScroll=!1);this.isAutoScroll=!0,t.listen("lines",()=>r(this,void 0,void 0,(function*(){const e=yield s.workspace.nvim.windows;if(e&&e.length)for(const n of e){const e=yield n.buffer;if((yield e.name)===`output:///${c.devLogName}`){const e=yield t.length,r=yield s.workspace.nvim.window;if(n.id===r.id)return;n.setCursor([e,0]);break}}}))),t.listen("detach",()=>{this.isAutoScroll&&(f(`Unexpected detach buf ${e}`),this.isAutoScroll=!1)}),this.push(s.Disposable.create(()=>{if(this.isAutoScroll){this.isAutoScroll=!1;try{t.removeAllListeners(),t.detach()}catch(e){f(`Detach error ${e.message||e}`)}}}));break}}this.isAutoScroll=!1}))}}t.devServer=new p},function(e,t,n){"use strict";
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const r=n(18),i=n(54),s=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),o=e=>"number"==typeof e||"string"==typeof e&&""!==e,a=e=>Number.isInteger(+e),u=e=>{let t=`${e}`,n=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++n];);return n>0},c=(e,t,n)=>{if(t>0){let n="-"===e[0]?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return!1===n?String(e):e},l=(e,t)=>{let n="-"===e[0]?"-":"";for(n&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return n?"-"+e:e},d=(e,t,n,r)=>{if(n)return i(e,t,{wrap:!1,...r});let s=String.fromCharCode(e);return e===t?s:`[${s}-${String.fromCharCode(t)}]`},h=(e,t,n)=>{if(Array.isArray(e)){let t=!0===n.wrap,r=n.capture?"":"?:";return t?`(${r}${e.join("|")})`:e.join("|")}return i(e,t,n)},f=(...e)=>new RangeError("Invalid range arguments: "+r.inspect(...e)),p=(e,t,n)=>{if(!0===n.strictRanges)throw f([e,t]);return[]},g=(e,t,n=1,r={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(!0===r.strictRanges)throw f([e,t]);return[]}0===i&&(i=0),0===s&&(s=0);let o=i>s,a=String(e),p=String(t),g=String(n);n=Math.max(Math.abs(n),1);let m=u(a)||u(p)||u(g),v=m?Math.max(a.length,p.length,g.length):0,y=!1===m&&!1===((e,t,n)=>"string"==typeof e||"string"==typeof t||!0===n.stringify)(e,t,r),_=r.transform||(e=>t=>!0===e?Number(t):String(t))(y);if(r.toRegex&&1===n)return d(l(e,v),l(t,v),!0,r);let b={negatives:[],positives:[]},w=e=>b[e<0?"negatives":"positives"].push(Math.abs(e)),S=[],R=0;for(;o?i>=s:i<=s;)!0===r.toRegex&&n>1?w(i):S.push(c(_(i,R),v,y)),i=o?i-n:i+n,R++;return!0===r.toRegex?n>1?((e,t)=>{e.negatives.sort((e,t)=>e<t?-1:e>t?1:0),e.positives.sort((e,t)=>e<t?-1:e>t?1:0);let n,r=t.capture?"":"?:",i="",s="";return e.positives.length&&(i=e.positives.join("|")),e.negatives.length&&(s=`-(${r}${e.negatives.join("|")})`),n=i&&s?`${i}|${s}`:i||s,t.wrap?`(${r}${n})`:n})(b,r):h(S,null,{wrap:!1,...r}):S},m=(e,t,n,r={})=>{if(null==t&&o(e))return[e];if(!o(e)||!o(t))return p(e,t,r);if("function"==typeof n)return m(e,t,1,{transform:n});if(s(n))return m(e,t,0,n);let i={...r};return!0===i.capture&&(i.wrap=!0),n=n||i.step||1,a(n)?a(e)&&a(t)?g(e,t,n,i):((e,t,n=1,r={})=>{if(!a(e)&&e.length>1||!a(t)&&t.length>1)return p(e,t,r);let i=r.transform||(e=>String.fromCharCode(e)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),u=s>o,c=Math.min(s,o),l=Math.max(s,o);if(r.toRegex&&1===n)return d(c,l,!1,r);let f=[],g=0;for(;u?s>=o:s<=o;)f.push(i(s,g)),s=u?s-n:s+n,g++;return!0===r.toRegex?h(f,null,{wrap:!1,options:r}):f})(e,t,Math.max(Math.abs(n),1),i):null==n||s(n)?m(e,t,1,n):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(n,i)};e.exports=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),i=n(10),s=n(30),o=n(35);class a extends o.default{constructor(){super(...arguments),this._walkStream=s.walkStream,this._stat=i.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){const n=e.map(this._getFullEntryPath,this),i=new r.PassThrough({objectMode:!0});i._write=(r,s,o)=>this._getEntry(n[r],e[r],t).then(e=>{null!==e&&t.entryFilter(e)&&i.push(e),r===n.length-1&&i.end(),o()}).catch(o);for(let e=0;e<n.length;e++)i.write(e);return i}_getEntry(e,t,n){return this._getStat(e).then(e=>this._makeEntry(e,t)).catch(e=>{if(n.errorFilter(e))return null;throw e})}_getStat(e){return new Promise((t,n)=>{this._stat(e,this._fsStatSettings,(e,r)=>null===e?t(r):n(e))})}}t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(70),i=n(80),s=n(81),o=n(83);function a(e={}){return e instanceof o.default?e:new o.default(e)}t.Settings=o.default,t.walk=function(e,t,n){if("function"==typeof t)return new r.default(e,a()).read(t);new r.default(e,a(t)).read(n)},t.walkSync=function(e,t){const n=a(t);return new s.default(e,n).read()},t.walkStream=function(e,t){const n=a(t);return new i.default(e,n).read()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(71),i=n(21),s=n(78),o=n(22),a=n(34);class u extends a.default{constructor(e,t){super(e,t),this._settings=t,this._scandir=i.scandir,this._emitter=new r.EventEmitter,this._queue=s(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){const n={directory:e,base:t};this._queue.push(n,e=>{null!==e&&this._handleError(e)})}_worker(e,t){this._scandir(e.directory,this._settings.fsScandirSettings,(n,r)=>{if(null!==n)return t(n,void 0);for(const t of r)this._handleEntry(t,e.base);t(null,void 0)})}_handleError(e){o.isFatalError(this._settings,e)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError)return;const n=e.path;void 0!==t&&(e.path=o.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),o.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&o.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,e.path)}_emitEntry(e){this._emitter.emit("entry",e)}}t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=process.versions.node.split("."),i=parseInt(r[0],10),s=parseInt(r[1],10),o=i>10,a=10===i&&s>=10;t.IS_SUPPORT_READDIR_WITH_FILE_TYPES=o||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(74);t.fs=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22);t.default=class{constructor(e,t){this._root=e,this._settings=t,this._root=r.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(10),s=n(9);t.default=class{constructor(e){this._settings=e,this._fsStatSettings=new i.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return r.resolve(this._settings.cwd,e)}_makeEntry(e,t){const n={name:t,path:t,dirent:s.fs.createDirentFromStats(t,e)};return this._settings.stats&&(n.stats=e),n}_isFatalError(e){return!s.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}}},function(e,t){e.exports=require("net")},function(e,t,n){var r=n(132);e.exports=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(3),o=n(39),a=n(99),u=n(118),c=n(130);t.activate=function(e){return r(this,void 0,void 0,(function*(){const t=i.workspace.getConfiguration("flutter");if(!t.get("enabled",!0))return;e.subscriptions.push(s.logger),s.logger.init(t.get("trace.server","off"));const n=new u.LspServer;e.subscriptions.push(n),e.subscriptions.push(new o.Commands(n)),e.subscriptions.push(new a.Providers),e.subscriptions.push(new c.SourceList)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(40),s=n(96),o=n(98);class a extends r.Dispose{constructor(e){super(),this.push(new i.Dev,new s.Global,new o.SuperCommand(e))}}t.Commands=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(27),o=n(1),a=n(94),u=n(11),c=n(3),l=n(6),d=n(95),h=c.logger.getlog("dev-command");t.cmds={hotReload:{cmd:"r",desc:"Hot reload"},hotRestart:{cmd:"R",desc:"Hot restart"},debugDumpAPP:{cmd:"w",desc:"You can dump the widget hierarchy of the app (debugDumpApp)",callback:()=>{s.devServer.openDevLog()}},debugDumpRenderTree:{cmd:"t",desc:"To dump the rendering tree of the app (debugDumpRenderTree)",callback:()=>{s.devServer.openDevLog()}},debugDumpLayerTree:{cmd:"L",desc:"For layers (debugDumpLayerTree)",callback:()=>{s.devServer.openDevLog()}},debugDumpSemanticsTraversalOrder:{cmd:"S",desc:"Accessibility (debugDumpSemantics) for traversal order"},debugDumpSemanticsHitTestOrder:{cmd:"U",desc:"Accessibility (debugDumpSemantics) for inverse hit test order"},showWidgetInspectorOverride:{cmd:"i",desc:"To toggle the widget inspector (WidgetsApp.showWidgetInspectorOverride)"},debugPaintSizeEnabled:{cmd:"p",desc:"To toggle the display of construction lines (debugPaintSizeEnabled)"},defaultTargetPlatform:{cmd:"o",desc:"To simulate different operating systems, (defaultTargetPlatform)"},elevationChecker:{cmd:"z",desc:"To toggle the elevation checker"},showPerformanceOverlay:{cmd:"P",desc:"To display the performance overlay (WidgetsApp.showPerformanceOverlay)"},debugProfileWidgetBuilds:{cmd:"a",desc:"To enable timeline events for all widget build methods, (debugProfileWidgetBuilds)"},screenshot:{cmd:"s",desc:"To save a screenshot to flutter.png"},detach:{cmd:"d",desc:"Detach server"},quit:{cmd:"q",desc:"Quit server"},copyProfilerUrl:{desc:"Copy the observatory debugger and profiler web page to the system clipboard (register +)",callback:e=>{e.copyProfilerUrl()}},openProfiler:{desc:"Observatory debugger and profiler web page",callback:e=>{e.openProfiler()}},openDevToolsProfiler:{desc:"Load DevTools page in an external web browser",callback:e=>{e.openDevToolsProfiler()}},openDevLog:{desc:"Open flutter dev server log",callback:()=>{s.devServer.state&&s.devServer.openDevLog()}},clearDevLog:{desc:"Clear the flutter dev server log",callback:()=>{s.devServer.state&&s.devServer.clearDevLog()}}};class f extends o.Dispose{constructor(){super(),this.cmds=[],this.onError=e=>{h(`devServer error: ${e.message}\n${e.stack}`),this.unRegisterCommands(),u.notification.show(`${e.message}`)},this.onExit=e=>{h(`devServer exit with: ${e}`),this.unRegisterCommands(),0!==e&&1!==e&&u.notification.show(`Flutter server exist with ${e}`)},this.onStdout=e=>{e.forEach(e=>{const t=e.match(/^\s*An Observatory debugger and profiler on .* is available at:\s*(https?:\/\/127\.0\.0\.1:\d+\/.+\/)$/);if(t){this.profilerUrl=t[1],i.workspace.getConfiguration("flutter").get("runDevToolsAtStartup",!1)&&this.openDevToolsProfiler()}})},this.onStderr=()=>{},["run","attach"].forEach(e=>{const t=`${l.cmdPrefix}.${e}`;this.push(i.commands.registerCommand(t,this[`${e}Server`],this)),this.push((i.commands.titles.set(t,`${e} flutter server`),{dispose(){i.commands.titles.delete(t)}}))}),this.push(s.devServer),h("register dev command"),this.push(d.devToolsServer)}runServer(...e){this.execute("run",e)}attachServer(...e){this.execute("attach",e)}execute(e,t){return r(this,void 0,void 0,(function*(){h(`${e} dev server, devServer state: ${s.devServer.state}`),(yield s.devServer.start([e].concat(t)))&&(s.devServer.onError(this.onError),s.devServer.onExit(this.onExit),s.devServer.onStdout(this.onStdout),s.devServer.onStderr(this.onStderr),this.registerCommands())}))}registerCommands(){h("register commands"),this.cmds.push(...Object.keys(t.cmds).map(e=>{const n=`${l.cmdPrefix}.dev.${e}`;i.commands.titles.set(n,t.cmds[e].desc);const r=i.commands.registerCommand(n,this.execCmd(t.cmds[e]));return{dispose(){i.commands.titles.delete(n),r.dispose()}}}))}unRegisterCommands(){h("unregister commands"),this.cmds&&this.cmds.forEach(e=>{e.dispose()}),this.cmds=[]}execCmd(e){return()=>{s.devServer.state?(e.cmd&&s.devServer.sendCommand(e.cmd),e.callback&&e.callback(this)):u.notification.show("Flutter server is not running!")}}copyProfilerUrl(){return r(this,void 0,void 0,(function*(){this.profilerUrl&&(s.devServer.state?i.workspace.nvim.command(`let @+='${this.profilerUrl}'`):u.notification.show("Flutter server is not running!"))}))}openProfiler(){if(this.profilerUrl){if(s.devServer.state)try{return a.opener(this.profilerUrl)}catch(e){h(`Open browser fail: ${e.message}\n${e.stack}`),u.notification.show(`Open browser fail: ${e.message||e}`)}u.notification.show("Flutter server is not running!")}}openDevToolsProfiler(){this.profilerUrl&&s.devServer.state&&(d.devToolsServer.state?this.launchDevToolsInBrowser():(d.devToolsServer.start(),d.devToolsServer.onStdout(()=>{this.launchDevToolsInBrowser()}),d.devToolsServer.onStderr(()=>{this.openDevToolsProfiler()})))}launchDevToolsInBrowser(){if(d.devToolsServer.state)try{const e=`http://${d.devToolsServer.devToolsUri}/#/?uri=ws${encodeURIComponent(this.profilerUrl)}`;return a.opener(e)}catch(e){h(`Open browser fail: ${e.message}\n${e.stack}`),u.notification.show(`Open browser fail: ${e.message||e}`)}}dispose(){super.dispose(),this.unRegisterCommands()}}t.Dev=f},function(e,t,n){"use strict";const r=n(42),i=n(65),s=n(88),o=n(89),a=n(91),u=n(9);function c(e,t){try{d(e)}catch(e){return Promise.reject(e)}const n=l(e,i.default,t);return Promise.all(n).then(u.array.flatten)}function l(e,t,n){const i=[].concat(e),s=new a.default(n),o=r.generate(i,s),u=new t(s);return o.map(u.read,u)}function d(e){if(![].concat(e).every(h))throw new TypeError("Patterns must be a string or an array of strings")}function h(e){return"string"==typeof e}!function(e){e.sync=function(e,t){d(e);const n=l(e,o.default,t);return u.array.flatten(n)},e.stream=function(e,t){d(e);const n=l(e,s.default,t);return u.stream.merge(n)},e.generateTasks=function(e,t){d(e);const n=[].concat(e),i=new a.default(t);return r.generate(n,i)},e.isDynamicPattern=function(e,t){d(e);const n=new a.default(t);return u.pattern.isDynamicPattern(e,n)},e.escapePath=function(e){return d(e),u.path.escape(e)}}(c||(c={})),e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);function i(e,t,n){const r=a(e);if("."in r){return[c(".",e,t,n)]}return u(r,t,n)}function s(e){return r.pattern.getPositivePatterns(e)}function o(e,t){return r.pattern.getNegativePatterns(e).concat(t).map(r.pattern.convertToPositivePattern)}function a(e){return e.reduce((e,t)=>{const n=r.pattern.getBaseDirectory(t);return n in e?e[n].push(t):e[n]=[t],e},{})}function u(e,t,n){return Object.keys(e).map(r=>c(r,e[r],t,n))}function c(e,t,n,i){return{dynamic:i,positive:t,negative:n,base:e,patterns:[].concat(t,n.map(r.pattern.convertToNegativePattern))}}t.generate=function(e,t){const n=s(e),a=o(e,t.ignore),u=n.filter(e=>r.pattern.isStaticPattern(e,t)),c=n.filter(e=>r.pattern.isDynamicPattern(e,t)),l=i(u,a,!1),d=i(c,a,!0);return l.concat(d)},t.convertPatternsToTasks=i,t.getPositivePatterns=s,t.getNegativePatternsAsPositive=o,t.groupPatternsByBaseDirectory=a,t.convertPatternGroupsToTasks=u,t.convertPatternGroupToTask=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatten=function(e){return e.reduce((e,t)=>[].concat(e,t),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEnoentCodeError=function(e){return"ENOENT"===e.code}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}t.createDirentFromStats=function(e,t){return new r(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=/(\\?)([*?|(){}[\]]|^!|[@+!](?=\())/g;t.unixify=function(e){return e.replace(/\\/g,"/")},t.makeAbsolute=function(e,t){return r.resolve(e,t)},t.escape=function(e){return e.replace(i,"\\$2")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(48),s=n(51),o="**",a="\\",u=/[*?]|^!/,c=/\[.*]/,l=/(?:^|[^@!*?+])\(.*\|.*\)/,d=/[@!*?+]\(.*\)/,h=/{.*(?:,|\.\.).*}/;function f(e,t={}){return!p(e,t)}function p(e,t={}){return!(!1!==t.caseSensitiveMatch&&!e.includes(a))||(!!(u.test(e)||c.test(e)||l.test(e))||(!(!1===t.extglob||!d.test(e))||!(!1===t.braceExpansion||!h.test(e))))}function g(e){return e.startsWith("!")&&"("!==e[1]}function m(e){return!g(e)}function v(e){return i(e,{flipBackslashes:!1})}function y(e){return e.endsWith("/"+o)}function _(e){const t=v(e),n=e.split("/").length,r=t.split("/").length;return"."===t?n-r:n-r-1}function b(e,t){return s.makeRe(e,t)}t.isStaticPattern=f,t.isDynamicPattern=p,t.convertToPositivePattern=function(e){return g(e)?e.slice(1):e},t.convertToNegativePattern=function(e){return"!"+e},t.isNegativePattern=g,t.isPositivePattern=m,t.getNegativePatterns=function(e){return e.filter(g)},t.getPositivePatterns=function(e){return e.filter(m)},t.getBaseDirectory=v,t.hasGlobStar=function(e){return e.includes(o)},t.endsWithSlashGlobStar=y,t.isAffectDepthOfReadingPattern=function(e){const t=r.basename(e);return y(e)||f(t)},t.getNaiveDepth=_,t.getMaxNaivePatternsDepth=function(e){return e.reduce((e,t)=>{const n=_(t);return n>e?n:e},0)},t.makeRe=b,t.convertPatternsToRe=function(e,t){return e.map(e=>b(e,t))},t.matchAny=function(e,t){const n=e.replace(/^\.[\\/]/,"");return t.some(e=>e.test(n))}},function(e,t,n){"use strict";var r=n(49),i=n(2).posix.dirname,s="win32"===n(4).platform(),o=/\\/g,a=/[\{\[].*[\/]*.*[\}\]]$/,u=/(^|[^\\])([\{\[]|\([^\)]+$)/,c=/\\([\*\?\|\[\]\(\)\{\}])/g;e.exports=function(e,t){Object.assign({flipBackslashes:!0},t).flipBackslashes&&s&&e.indexOf("/")<0&&(e=e.replace(o,"/")),a.test(e)&&(e+="/"),e+="a";do{e=i(e)}while(r(e)||u.test(e));return e.replace(c,"$1")}},function(e,t,n){
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var r=n(50),i={"{":"}","(":")","[":"]"},s=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,o=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;e.exports=function(e,t){if("string"!=typeof e||""===e)return!1;if(r(e))return!0;var n,a=s;for(t&&!1===t.strict&&(a=o);n=a.exec(e);){if(n[2])return!0;var u=n.index+n[0].length,c=n[1],l=c?i[c]:null;if(c&&l){var d=e.indexOf(l,u);-1!==d&&(u=d+1)}e=e.slice(u)}return!1}},function(e,t){
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
e.exports=function(e){if("string"!=typeof e||""===e)return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}},function(e,t,n){"use strict";const r=n(18),i=n(52),s=n(59),o=n(14),a=e=>"string"==typeof e&&(""===e||"./"===e),u=(e,t,n)=>{t=[].concat(t),e=[].concat(e);let r=new Set,i=new Set,o=new Set,a=0,u=e=>{o.add(e.output),n&&n.onResult&&n.onResult(e)};for(let o=0;o<t.length;o++){let c=s(String(t[o]),{...n,onResult:u},!0),l=c.state.negated||c.state.negatedExtglob;l&&a++;for(let t of e){let e=c(t,!0);(l?!e.isMatch:e.isMatch)&&(l?r.add(e.output):(r.delete(e.output),i.add(e.output)))}}let c=(a===t.length?[...o]:[...i]).filter(e=>!r.has(e));if(n&&0===c.length){if(!0===n.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===n.nonull||!0===n.nullglob)return n.unescape?t.map(e=>e.replace(/\\/g,"")):t}return c};u.match=u,u.matcher=(e,t)=>s(e,t),u.any=u.isMatch=(e,t,n)=>s(t,n)(e),u.not=(e,t,n={})=>{t=[].concat(t).map(String);let r=new Set,i=[],s=u(e,t,{...n,onResult:e=>{n.onResult&&n.onResult(e),i.push(e.output)}});for(let e of i)s.includes(e)||r.add(e);return[...r]},u.contains=(e,t,n)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${r.inspect(e)}"`);if(Array.isArray(t))return t.some(t=>u.contains(e,t,n));if("string"==typeof t){if(a(e)||a(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return u.isMatch(e,t,{...n,contains:!0})},u.matchKeys=(e,t,n)=>{if(!o.isObject(e))throw new TypeError("Expected the first argument to be an object");let r=u(Object.keys(e),t,n),i={};for(let t of r)i[t]=e[t];return i},u.some=(e,t,n)=>{let r=[].concat(e);for(let e of[].concat(t)){let t=s(String(e),n);if(r.some(e=>t(e)))return!0}return!1},u.every=(e,t,n)=>{let r=[].concat(e);for(let e of[].concat(t)){let t=s(String(e),n);if(!r.every(e=>t(e)))return!1}return!0},u.all=(e,t,n)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${r.inspect(e)}"`);return[].concat(t).every(t=>s(t,n)(e))},u.capture=(e,t,n)=>{let r=o.isWindows(n),i=s.makeRe(String(e),{...n,capture:!0}).exec(r?o.toPosixSlashes(t):t);if(i)return i.slice(1).map(e=>void 0===e?"":e)},u.makeRe=(...e)=>s.makeRe(...e),u.scan=(...e)=>s.scan(...e),u.parse=(e,t)=>{let n=[];for(let r of[].concat(e||[]))for(let e of i(String(r),t))n.push(s.parse(e,t));return n},u.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!/\{.*\}/.test(e)?[e]:i(e,t)},u.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return u.braces(e,{...t,expand:!0})},e.exports=u},function(e,t,n){"use strict";const r=n(19),i=n(53),s=n(56),o=n(57),a=(e,t={})=>{let n=[];if(Array.isArray(e))for(let r of e){let e=a.create(r,t);Array.isArray(e)?n.push(...e):n.push(e)}else n=[].concat(a.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(n=[...new Set(n)]),n};a.parse=(e,t={})=>o(e,t),a.stringify=(e,t={})=>r("string"==typeof e?a.parse(e,t):e,t),a.compile=(e,t={})=>("string"==typeof e&&(e=a.parse(e,t)),i(e,t)),a.expand=(e,t={})=>{"string"==typeof e&&(e=a.parse(e,t));let n=s(e,t);return!0===t.noempty&&(n=n.filter(Boolean)),!0===t.nodupes&&(n=[...new Set(n)]),n},a.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?a.compile(e,t):a.expand(e,t),e.exports=a},function(e,t,n){"use strict";const r=n(28),i=n(20);e.exports=(e,t={})=>{let n=(e,s={})=>{let o=i.isInvalidBrace(s),a=!0===e.invalid&&!0===t.escapeInvalid,u=!0===o||!0===a,c=!0===t.escapeInvalid?"\\":"",l="";if(!0===e.isOpen)return c+e.value;if(!0===e.isClose)return c+e.value;if("open"===e.type)return u?c+e.value:"(";if("close"===e.type)return u?c+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":u?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){let n=i.reduce(e.nodes),s=r(...n,{...t,wrap:!1,toRegex:!0});if(0!==s.length)return n.length>1&&s.length>1?`(${s})`:s}if(e.nodes)for(let t of e.nodes)l+=n(t,e);return l};return n(e)}},function(e,t,n){"use strict";
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const r=n(55),i=(e,t,n)=>{if(!1===r(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===r(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...n};"boolean"==typeof s.strictZeros&&(s.relaxZeros=!1===s.strictZeros);let u=e+":"+t+"="+String(s.relaxZeros)+String(s.shorthand)+String(s.capture)+String(s.wrap);if(i.cache.hasOwnProperty(u))return i.cache[u].result;let c=Math.min(e,t),l=Math.max(e,t);if(1===Math.abs(c-l)){let n=e+"|"+t;return s.capture?`(${n})`:!1===s.wrap?n:`(?:${n})`}let d=p(e)||p(t),h={min:e,max:t,a:c,b:l},f=[],g=[];if(d&&(h.isPadded=d,h.maxLen=String(h.max).length),c<0){g=o(l<0?Math.abs(l):1,Math.abs(c),h,s),c=h.a=0}return l>=0&&(f=o(c,l,h,s)),h.negatives=g,h.positives=f,h.result=function(e,t,n){let r=a(e,t,"-",!1,n)||[],i=a(t,e,"",!1,n)||[],s=a(e,t,"-?",!0,n)||[];return r.concat(s).concat(i).join("|")}(g,f,s),!0===s.capture?h.result=`(${h.result})`:!1!==s.wrap&&f.length+g.length>1&&(h.result=`(?:${h.result})`),i.cache[u]=h,h.result};function s(e,t,n){if(e===t)return{pattern:e,count:[],digits:0};let r=function(e,t){let n=[];for(let r=0;r<e.length;r++)n.push([e[r],t[r]]);return n}(e,t),i=r.length,s="",o=0;for(let e=0;e<i;e++){let[t,i]=r[e];t===i?s+=t:"0"!==t||"9"!==i?s+=f(t,i,n):o++}return o&&(s+=!0===n.shorthand?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function o(e,t,n,r){let i,o=function(e,t){let n=1,r=1,i=l(e,n),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),i=l(e,n+=1);for(i=d(t+1,r)-1;e<i&&i<=t;)s.add(i),i=d(t+1,r+=1)-1;return(s=[...s]).sort(u),s}(e,t),a=[],c=e;for(let e=0;e<o.length;e++){let t=o[e],u=s(String(c),String(t),r),l="";n.isPadded||!i||i.pattern!==u.pattern?(n.isPadded&&(l=g(t,n,r)),u.string=l+u.pattern+h(u.count),a.push(u),c=t+1,i=u):(i.count.length>1&&i.count.pop(),i.count.push(u.count[0]),i.string=i.pattern+h(i.count),c=t+1)}return a}function a(e,t,n,r,i){let s=[];for(let i of e){let{string:e}=i;r||c(t,"string",e)||s.push(n+e),r&&c(t,"string",e)&&s.push(n+e)}return s}function u(e,t){return e>t?1:t>e?-1:0}function c(e,t,n){return e.some(e=>e[t]===n)}function l(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function d(e,t){return e-e%Math.pow(10,t)}function h(e){let[t=0,n=""]=e;return n||t>1?`{${t+(n?","+n:"")}}`:""}function f(e,t,n){return`[${e}${t-e==1?"":"-"}${t}]`}function p(e){return/^-?(0+)\d/.test(e)}function g(e,t,n){if(!t.isPadded)return e;let r=Math.abs(t.maxLen-String(e).length),i=!1!==n.relaxZeros;switch(r){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${r}}`:`0{${r}}`}}i.cache={},i.clearCache=()=>i.cache={},e.exports=i},function(e,t,n){"use strict";
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))}},function(e,t,n){"use strict";const r=n(28),i=n(19),s=n(20),o=(e="",t="",n=!1)=>{let r=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return n?s.flatten(t).map(e=>`{${e}}`):t;for(let i of e)if(Array.isArray(i))for(let e of i)r.push(o(e,t,n));else for(let e of t)!0===n&&"string"==typeof e&&(e=`{${e}}`),r.push(Array.isArray(e)?o(i,e,n):i+e);return s.flatten(r)};e.exports=(e,t={})=>{let n=void 0===t.rangeLimit?1e3:t.rangeLimit,a=(e,u={})=>{e.queue=[];let c=u,l=u.queue;for(;"brace"!==c.type&&"root"!==c.type&&c.parent;)l=(c=c.parent).queue;if(e.invalid||e.dollar)return void l.push(o(l.pop(),i(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void l.push(o(l.pop(),["{}"]));if(e.nodes&&e.ranges>0){let a=s.reduce(e.nodes);if(s.exceedsLimit(...a,t.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let u=r(...a,t);return 0===u.length&&(u=i(e,t)),l.push(o(l.pop(),u)),void(e.nodes=[])}let d=s.encloseBrace(e),h=e.queue,f=e;for(;"brace"!==f.type&&"root"!==f.type&&f.parent;)h=(f=f.parent).queue;for(let t=0;t<e.nodes.length;t++){let n=e.nodes[t];"comma"!==n.type||"brace"!==e.type?"close"!==n.type?n.value&&"open"!==n.type?h.push(o(h.pop(),n.value)):n.nodes&&a(n,e):l.push(o(l.pop(),h,d)):(1===t&&h.push(""),h.push(""))}return h};return s.flatten(a(e))}},function(e,t,n){"use strict";const r=n(19),{MAX_LENGTH:i,CHAR_BACKSLASH:s,CHAR_BACKTICK:o,CHAR_COMMA:a,CHAR_DOT:u,CHAR_LEFT_PARENTHESES:c,CHAR_RIGHT_PARENTHESES:l,CHAR_LEFT_CURLY_BRACE:d,CHAR_RIGHT_CURLY_BRACE:h,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_RIGHT_SQUARE_BRACKET:p,CHAR_DOUBLE_QUOTE:g,CHAR_SINGLE_QUOTE:m,CHAR_NO_BREAK_SPACE:v,CHAR_ZERO_WIDTH_NOBREAK_SPACE:y}=n(58);e.exports=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");let n=t||{},_="number"==typeof n.maxLength?Math.min(i,n.maxLength):i;if(e.length>_)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${_})`);let b,w={type:"root",input:e,nodes:[]},S=[w],R=w,E=w,x=0,T=e.length,C=0,k=0;const A=()=>e[C++],O=e=>{if("text"===e.type&&"dot"===E.type&&(E.type="text"),!E||"text"!==E.type||"text"!==e.type)return R.nodes.push(e),e.parent=R,e.prev=E,E=e,e;E.value+=e.value};for(O({type:"bos"});C<T;)if(R=S[S.length-1],(b=A())!==y&&b!==v)if(b!==s)if(b!==p)if(b!==f)if(b!==c)if(b!==l)if(b!==g&&b!==m&&b!==o)if(b!==d)if(b!==h)if(b===a&&k>0){if(R.ranges>0){R.ranges=0;let e=R.nodes.shift();R.nodes=[e,{type:"text",value:r(R)}]}O({type:"comma",value:b}),R.commas++}else if(b===u&&k>0&&0===R.commas){let e=R.nodes;if(0===k||0===e.length){O({type:"text",value:b});continue}if("dot"===E.type){if(R.range=[],E.value+=b,E.type="range",3!==R.nodes.length&&5!==R.nodes.length){R.invalid=!0,R.ranges=0,E.type="text";continue}R.ranges++,R.args=[];continue}if("range"===E.type){e.pop();let t=e[e.length-1];t.value+=E.value+b,E=t,R.ranges--;continue}O({type:"dot",value:b})}else O({type:"text",value:b});else{if("brace"!==R.type){O({type:"text",value:b});continue}let e="close";(R=S.pop()).close=!0,O({type:e,value:b}),k--,R=S[S.length-1]}else{k++;let e=E.value&&"$"===E.value.slice(-1)||!0===R.dollar;R=O({type:"brace",open:!0,close:!1,dollar:e,depth:k,commas:0,ranges:0,nodes:[]}),S.push(R),O({type:"open",value:b})}else{let e,n=b;for(!0!==t.keepQuotes&&(b="");C<T&&(e=A());)if(e!==s){if(e===n){!0===t.keepQuotes&&(b+=e);break}b+=e}else b+=e+A();O({type:"text",value:b})}else{if("paren"!==R.type){O({type:"text",value:b});continue}R=S.pop(),O({type:"text",value:b}),R=S[S.length-1]}else R=O({type:"paren",nodes:[]}),S.push(R),O({type:"text",value:b});else{x++;let e;for(;C<T&&(e=A());)if(b+=e,e!==f)if(e!==s){if(e===p&&0===--x)break}else b+=A();else x++;O({type:"text",value:b})}else O({type:"text",value:"\\"+b});else O({type:"text",value:(t.keepEscaping?b:"")+A()});do{if("root"!==(R=S.pop()).type){R.nodes.forEach(e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)});let e=S[S.length-1],t=e.nodes.indexOf(R);e.nodes.splice(t,1,...R.nodes)}}while(S.length>0);return O({type:"eos"}),w}},function(e,t,n){"use strict";e.exports={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(e,t,n){"use strict";e.exports=n(60)},function(e,t,n){"use strict";const r=n(2),i=n(61),s=n(62),o=n(14),a=(e,t,n=!1)=>{if(Array.isArray(e)){let r=e.map(e=>a(e,t,n));return e=>{for(let t of r){let n=t(e);if(n)return n}return!1}}if("string"!=typeof e||""===e)throw new TypeError("Expected pattern to be a non-empty string");let r=t||{},i=o.isWindows(t),s=a.makeRe(e,t,!1,!0),u=s.state;delete s.state;let c=()=>!1;if(r.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};c=a(r.ignore,e,n)}const l=(n,o=!1)=>{let{isMatch:l,match:d,output:h}=a.test(n,s,t,{glob:e,posix:i}),f={glob:e,state:u,regex:s,posix:i,input:n,output:h,match:d,isMatch:l};return"function"==typeof r.onResult&&r.onResult(f),!1===l?(f.isMatch=!1,!!o&&f):c(n)?("function"==typeof r.onIgnore&&r.onIgnore(f),f.isMatch=!1,!!o&&f):("function"==typeof r.onMatch&&r.onMatch(f),!o||f)};return n&&(l.state=u),l};a.test=(e,t,n,{glob:r,posix:i}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let s=n||{},u=s.format||(i?o.toPosixSlashes:null),c=e===r,l=c&&u?u(e):e;return!1===c&&(c=(l=u?u(e):e)===r),!1!==c&&!0!==s.capture||(c=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,n,i):t.exec(l)),{isMatch:!!c,match:c,output:l}},a.matchBase=(e,t,n,i=o.isWindows(n))=>{return(t instanceof RegExp?t:a.makeRe(t,n)).test(r.basename(e))},a.isMatch=(e,t,n)=>a(t,n)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>i(e,t),a.makeRe=(e,t,n=!1,r=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let i,o=t||{},u=o.contains?"":"^",c=o.contains?"":"$",l={negated:!1,fastpaths:!0},d="";if(e.startsWith("./")&&(e=e.slice(2),d=l.prefix="./"),!1===o.fastpaths||"."!==e[0]&&"*"!==e[0]||(i=s.fastpaths(e,t)),void 0===i&&((l=a.parse(e,t)).prefix=d+(l.prefix||""),i=l.output),!0===n)return i;let h=`${u}(?:${i})${c}`;l&&!0===l.negated&&(h=`^(?!${h}).*$`);let f=a.toRegex(h,t);return!0===r&&(f.state=l),f},a.toRegex=(e,t)=>{try{let n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=n(15),e.exports=a},function(e,t,n){"use strict";const r=n(14),{CHAR_ASTERISK:i,CHAR_AT:s,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:u,CHAR_EXCLAMATION_MARK:c,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:d,CHAR_LEFT_PARENTHESES:h,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_PLUS:p,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:v,CHAR_RIGHT_SQUARE_BRACKET:y}=n(15);e.exports=(e,t)=>{let n,_,b=t||{},w=e.length-1,S=-1,R=0,E=0,x=!1,T=!1,C=!1,k=0,A=!1,O=()=>S>=w,P=()=>(n=_,e.charCodeAt(++S));for(;S<w;){let t;if((_=P())!==o){if(!0===A||_===d)for(k++;!O()&&(t=P());)if(t!==o)if(t!==d){if(!A&&t===u&&(t=P())===u){x=!0;break}if(!A&&t===a){x=!0;break}if(t===m&&0===--k){A=!1;break}}else k++;else T=!0,t=P();if(_!==l){if(_===i){x=!0;break}if(_===i||_===g){x=!0;break}if(_===f)for(;!O()&&(t=P());)if(t!==o){if(t===y){x=!0;break}}else T=!0,t=P();if((_===p||_===s||_===c)&&e.charCodeAt(S+1)===h){x=!0;break}if(_!==c||S!==R){if(_===h)for(;!O()&&(t=P());)if(t!==o){if(t===v){x=!0;break}}else T=!0,t=P();if(x)break}else C=!0,R++}else{if(n===u&&S===R+1){R+=2;continue}E=S+1}}else T=!0,(t=P())===d&&(A=!0)}let D="",M=e,L=e,N="";return R>0&&(D=e.slice(0,R),e=e.slice(R),E-=R),L&&!0===x&&E>0?(L=e.slice(0,E),N=e.slice(E)):!0===x?(L="",N=e):L=e,L&&""!==L&&"/"!==L&&L!==e&&(e=>e===l||e===o)(L.charCodeAt(L.length-1))&&(L=L.slice(0,-1)),!0===b.unescape&&(N&&(N=r.removeBackslashes(N)),L&&!0===T&&(L=r.removeBackslashes(L))),{prefix:D,input:M,base:L,glob:N,negated:C,isGlob:x}}},function(e,t,n){"use strict";const r=n(14),i=n(15),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:u,REPLACEMENTS:c}=i,l=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let n=`[${e.join("-")}]`;try{new RegExp(n)}catch(t){return e.map(e=>r.escapeRegex(e)).join("..")}return n},d=e=>{let t=1;for(;"!"===e.peek()&&("("!==e.peek(2)||"?"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},h=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,f=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=c[e]||e;let n={...t},f="number"==typeof n.maxLength?Math.min(s,n.maxLength):s,p=e.length;if(p>f)throw new SyntaxError(`Input length: ${p}, exceeds maximum allowed length: ${f}`);let g={type:"bos",value:"",output:n.prepend||""},m=[g],v=n.capture?"":"?:",y=r.isWindows(t);const _=i.globChars(y),b=i.extglobChars(_),{DOT_LITERAL:w,PLUS_LITERAL:S,SLASH_LITERAL:R,ONE_CHAR:E,DOTS_SLASH:x,NO_DOT:T,NO_DOT_SLASH:C,NO_DOTS_SLASH:k,QMARK:A,QMARK_NO_DOT:O,STAR:P,START_ANCHOR:D}=_,M=e=>`(${v}(?:(?!${D}${e.dot?x:w}).)*?)`;let L=n.dot?"":T,N=!0===n.bash?M(n):P,$=n.dot?A:O;n.capture&&(N=`(${N})`),"boolean"==typeof n.noext&&(n.noextglob=n.noext);let F,I={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:m},H=[],q=[],j=g;const B=()=>I.index===p-1,W=I.peek=(t=1)=>e[I.index+t],U=I.advance=()=>e[++I.index],K=e=>{I.output+=null!=e.output?e.output:e.value,I.consumed+=e.value||""},G=e=>{I[e]++,q.push(e)},V=e=>{I[e]--,q.pop()},z=e=>{if("globstar"===j.type){let t=I.braces>0&&("comma"===e.type||"brace"===e.type),n=H.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||n||(I.output=I.output.slice(0,-j.output.length),j.type="star",j.value="*",j.output=N,I.output+=j.output)}H.length&&"paren"!==e.type&&!b[e.value]&&(H[H.length-1].inner+=e.value),(e.value||e.output)&&K(e),j&&"text"===j.type&&"text"===e.type?j.value+=e.value:(e.prev=j,m.push(e),j=e)},Q=(e,t)=>{let r={...b[t],conditions:1,inner:""};r.prev=j,r.parens=I.parens,r.output=I.output;let i=(n.capture?"(":"")+r.open;z({type:e,value:t,output:I.output?"":E}),z({type:"paren",extglob:!0,value:U(),output:i}),G("parens"),H.push(r)},Y=t=>{let r=t.close+(n.capture?")":"");if("negate"===t.type){let i=N;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(i=M(n)),(i!==N||B()||/^\)+$/.test(e.slice(I.index+1)))&&(r=t.close=")$))"+i),"bos"===t.prev.type&&B()&&(I.negatedExtglob=!0)}z({type:"paren",extglob:!0,value:F,output:r}),V("parens")};if(!1!==n.fastpaths&&!/(^[*!]|[/{[()\]}"])/.test(e)){let t=!1,r=e.replace(u,(e,n,r,i,s,o)=>"\\"===i?(t=!0,e):"?"===i?n?n+i+(s?A.repeat(s.length):""):0===o?$+(s?A.repeat(s.length):""):A.repeat(r.length):"."===i?w.repeat(r.length):"*"===i?n?n+i+(s?N:""):N:n?e:"\\"+e);return!0===t&&(r=!0===n.unescape?r.replace(/\\/g,""):r.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),I.output=r,I}for(;!B();){if("\0"===(F=U()))continue;if("\\"===F){let t=W();if("/"===t&&!0!==n.bash)continue;if("."===t||";"===t)continue;if(!t){z({type:"text",value:F+="\\"});continue}let r=/^\\+/.exec(e.slice(I.index+1)),i=0;if(r&&r[0].length>2&&(i=r[0].length,I.index+=i,i%2!=0&&(F+="\\")),!0===n.unescape?F=U()||"":F+=U()||"",0===I.brackets){z({type:"text",value:F});continue}}if(I.brackets>0&&("]"!==F||"["===j.value||"[^"===j.value)){if(!1!==n.posix&&":"===F){let e=j.value.slice(1);if(e.includes("[")&&(j.posix=!0,e.includes(":"))){let e=j.value.lastIndexOf("["),t=j.value.slice(0,e),n=j.value.slice(e+2),r=o[n];if(r){j.value=t+r,I.backtrack=!0,U(),g.output||1!==m.indexOf(j)||(g.output=E);continue}}}("["===F&&":"!==W()||"-"===F&&"]"===W())&&(F="\\"+F),"]"!==F||"["!==j.value&&"[^"!==j.value||(F="\\"+F),!0===n.posix&&"!"===F&&"["===j.value&&(F="^"),j.value+=F,K({value:F});continue}if(1===I.quotes&&'"'!==F){F=r.escapeRegex(F),j.value+=F,K({value:F});continue}if('"'===F){I.quotes=1===I.quotes?0:1,!0===n.keepQuotes&&z({type:"text",value:F});continue}if("("===F){z({type:"paren",value:F}),G("parens");continue}if(")"===F){if(0===I.parens&&!0===n.strictBrackets)throw new SyntaxError(h("opening","("));let e=H[H.length-1];if(e&&I.parens===e.parens+1){Y(H.pop());continue}z({type:"paren",value:F,output:I.parens?")":"\\)"}),V("parens");continue}if("["===F){if(!0!==n.nobracket&&e.slice(I.index+1).includes("]"))G("brackets");else{if(!0!==n.nobracket&&!0===n.strictBrackets)throw new SyntaxError(h("closing","]"));F="\\"+F}z({type:"bracket",value:F});continue}if("]"===F){if(!0===n.nobracket||j&&"bracket"===j.type&&1===j.value.length){z({type:"text",value:F,output:"\\"+F});continue}if(0===I.brackets){if(!0===n.strictBrackets)throw new SyntaxError(h("opening","["));z({type:"text",value:F,output:"\\"+F});continue}V("brackets");let e=j.value.slice(1);if(!0===j.posix||"^"!==e[0]||e.includes("/")||(F="/"+F),j.value+=F,K({value:F}),!1===n.literalBrackets||r.hasRegexChars(e))continue;let t=r.escapeRegex(j.value);if(I.output=I.output.slice(0,-j.value.length),!0===n.literalBrackets){I.output+=t,j.value=t;continue}j.value=`(${v}${t}|${j.value})`,I.output+=j.value;continue}if("{"===F&&!0!==n.nobrace){z({type:"brace",value:F,output:"("}),G("braces");continue}if("}"===F){if(!0===n.nobrace||0===I.braces){z({type:"text",value:F,output:"\\"+F});continue}let e=")";if(!0===I.dots){let t=m.slice(),r=[];for(let e=t.length-1;e>=0&&(m.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&r.unshift(t[e].value);e=l(r,n),I.backtrack=!0}z({type:"brace",value:F,output:e}),V("braces");continue}if("|"===F){H.length>0&&H[H.length-1].conditions++,z({type:"text",value:F});continue}if(","===F){let e=F;I.braces>0&&"braces"===q[q.length-1]&&(e="|"),z({type:"comma",value:F,output:e});continue}if("/"===F){if("dot"===j.type&&1===I.index){I.start=I.index+1,I.consumed="",I.output="",m.pop(),j=g;continue}z({type:"slash",value:F,output:R});continue}if("."===F){if(I.braces>0&&"dot"===j.type){"."===j.value&&(j.output=w),j.type="dots",j.output+=F,j.value+=F,I.dots=!0;continue}z({type:"dot",value:F,output:w});continue}if("?"===F){if(j&&"paren"===j.type){let e=W(),t=F;if("<"===e&&!r.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===j.value&&!/[!=<:]/.test(e)||"<"===e&&!/[!=]/.test(W(2)))&&(t="\\"+F),z({type:"text",value:F,output:t});continue}if(!0!==n.noextglob&&"("===W()&&"?"!==W(2)){Q("qmark",F);continue}if(!0!==n.dot&&("slash"===j.type||"bos"===j.type)){z({type:"qmark",value:F,output:O});continue}z({type:"qmark",value:F,output:A});continue}if("!"===F){if(!0!==n.noextglob&&"("===W()&&("?"!==W(2)||!/[!=<:]/.test(W(3)))){Q("negate",F);continue}if(!0!==n.nonegate&&0===I.index){d(I);continue}}if("+"===F){if(!0!==n.noextglob&&"("===W()&&"?"!==W(2)){Q("plus",F);continue}if(j&&("bracket"===j.type||"paren"===j.type||"brace"===j.type)){let e=!0===j.extglob?"\\"+F:F;z({type:"plus",value:F,output:e});continue}if(I.parens>0&&!1!==n.regex){z({type:"plus",value:F});continue}z({type:"plus",value:S});continue}if("@"===F){if(!0!==n.noextglob&&"("===W()&&"?"!==W(2)){z({type:"at",value:F,output:""});continue}z({type:"text",value:F});continue}if("*"!==F){"$"!==F&&"^"!==F||(F="\\"+F);let t=a.exec(e.slice(I.index+1));t&&(F+=t[0],I.index+=t[0].length),z({type:"text",value:F});continue}if(j&&("globstar"===j.type||!0===j.star)){j.type="star",j.star=!0,j.value+=F,j.output=N,I.backtrack=!0,I.consumed+=F;continue}if(!0!==n.noextglob&&"("===W()&&"?"!==W(2)){Q("star",F);continue}if("star"===j.type){if(!0===n.noglobstar){I.consumed+=F;continue}let t=j.prev,r=t.prev,i="slash"===t.type||"bos"===t.type,s=r&&("star"===r.type||"globstar"===r.type);if(!0===n.bash&&(!i||!B()&&"/"!==W())){z({type:"star",value:F,output:""});continue}let o=I.braces>0&&("comma"===t.type||"brace"===t.type),a=H.length&&("pipe"===t.type||"paren"===t.type);if(!i&&"paren"!==t.type&&!o&&!a){z({type:"star",value:F,output:""});continue}for(;"/**"===e.slice(I.index+1,I.index+4);){let t=e[I.index+4];if(t&&"/"!==t)break;I.consumed+="/**",I.index+=3}if("bos"===t.type&&B()){j.type="globstar",j.value+=F,j.output=M(n),I.output=j.output,I.consumed+=F;continue}if("slash"===t.type&&"bos"!==t.prev.type&&!s&&B()){I.output=I.output.slice(0,-(t.output+j.output).length),t.output="(?:"+t.output,j.type="globstar",j.output=M(n)+"|$)",j.value+=F,I.output+=t.output+j.output,I.consumed+=F;continue}let u=W();if("slash"===t.type&&"bos"!==t.prev.type&&"/"===u){let e=void 0!==W(2)?"|$":"";I.output=I.output.slice(0,-(t.output+j.output).length),t.output="(?:"+t.output,j.type="globstar",j.output=`${M(n)}${R}|${R}${e})`,j.value+=F,I.output+=t.output+j.output,I.consumed+=F+U(),z({type:"slash",value:F,output:""});continue}if("bos"===t.type&&"/"===u){j.type="globstar",j.value+=F,j.output=`(?:^|${R}|${M(n)}${R})`,I.output=j.output,I.consumed+=F+U(),z({type:"slash",value:F,output:""});continue}I.output=I.output.slice(0,-j.output.length),j.type="globstar",j.output=M(n),j.value+=F,I.output+=j.output,I.consumed+=F;continue}let t={type:"star",value:F,output:N};!0!==n.bash?!j||"bracket"!==j.type&&"paren"!==j.type||!0!==n.regex?(I.index!==I.start&&"slash"!==j.type&&"dot"!==j.type||("dot"===j.type?(I.output+=C,j.output+=C):!0===n.dot?(I.output+=k,j.output+=k):(I.output+=L,j.output+=L),"*"!==W()&&(I.output+=E,j.output+=E)),z(t)):(t.output=F,z(t)):(t.output=".*?","bos"!==j.type&&"slash"!==j.type||(t.output=L+t.output),z(t))}for(;I.brackets>0;){if(!0===n.strictBrackets)throw new SyntaxError(h("closing","]"));I.output=r.escapeLast(I.output,"["),V("brackets")}for(;I.parens>0;){if(!0===n.strictBrackets)throw new SyntaxError(h("closing",")"));I.output=r.escapeLast(I.output,"("),V("parens")}for(;I.braces>0;){if(!0===n.strictBrackets)throw new SyntaxError(h("closing","}"));I.output=r.escapeLast(I.output,"{"),V("braces")}if(!0===n.strictSlashes||"star"!==j.type&&"bracket"!==j.type||z({type:"maybe_slash",value:"",output:`${R}?`}),!0===I.backtrack){I.output="";for(let e of I.tokens)I.output+=null!=e.output?e.output:e.value,e.suffix&&(I.output+=e.suffix)}return I};f.fastpaths=(e,t)=>{let n={...t},o="number"==typeof n.maxLength?Math.min(s,n.maxLength):s,a=e.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);e=c[e]||e;let u=r.isWindows(t);const{DOT_LITERAL:l,SLASH_LITERAL:d,ONE_CHAR:h,DOTS_SLASH:f,NO_DOT:p,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:v,START_ANCHOR:y}=i.globChars(u);let _=n.capture?"":"?:",b=!0===n.bash?".*?":v,w=n.dot?g:p,S=n.dot?m:p;n.capture&&(b=`(${b})`);const R=e=>`(${_}(?:(?!${y}${e.dot?f:l}).)*?)`,E=e=>{switch(e){case"*":return`${w}${h}${b}`;case".*":return`${l}${h}${b}`;case"*.*":return`${w}${b}${l}${h}${b}`;case"*/*":return`${w}${b}${d}${h}${S}${b}`;case"**":return w+R(n);case"**/*":return`(?:${w}${R(n)}${d})?${S}${h}${b}`;case"**/*.*":return`(?:${w}${R(n)}${d})?${S}${b}${l}${h}${b}`;case"**/.*":return`(?:${w}${R(n)}${d})?${l}${h}${b}`;default:{let n=/^(.*?)\.(\w+)$/.exec(e);if(!n)return;let r=E(n[1],t);if(!r)return;return r+l+n[2]}}};let x=E(e);return x&&!0!==n.strictSlashes&&(x+=`${d}?`),x},e.exports=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(64);t.merge=function(e){const t=r(e);return e.forEach(e=>{e.once("error",e=>t.emit("error",e))}),t}},function(e,t,n){"use strict";const r=n(16).PassThrough,i=Array.prototype.slice;function s(e,t){if(Array.isArray(e))for(let n=0,r=e.length;n<r;n++)e[n]=s(e[n],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(r(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}e.exports=function(){const e=[];let t=!1;const n=i.call(arguments);let o=n[n.length-1];o&&!Array.isArray(o)&&null==o.pipe?n.pop():o={};const a=!1!==o.end;null==o.objectMode&&(o.objectMode=!0);null==o.highWaterMark&&(o.highWaterMark=65536);const u=r(o);function c(){for(let t=0,n=arguments.length;t<n;t++)e.push(s(arguments[t],o));return function n(){if(t)return;t=!0;let r=e.shift();if(!r)return void process.nextTick(l);Array.isArray(r)||(r=[r]);let i=r.length+1;function s(){--i>0||(t=!1,n())}function o(e){function t(){e.removeListener("merge2UnpipeEnd",t),e.removeListener("end",t),s()}if(e._readableState.endEmitted)return s();e.on("merge2UnpipeEnd",t),e.on("end",t),e.pipe(u,{end:!1}),e.resume()}for(let e=0;e<r.length;e++)o(r[e]);s()}(),this}function l(){return t=!1,u.emit("queueDrain"),a&&u.end()}u.setMaxListeners(0),u.add=c,u.on("unpipe",(function(e){e.emit("merge2UnpipeEnd")})),n.length&&c.apply(null,n);return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(29),i=n(23);class s extends i.default{constructor(){super(...arguments),this._reader=new r.default(this._settings)}read(e){const t=this._getRootDirectory(e),n=this._getReaderOptions(e),r=[];return new Promise((i,s)=>{const o=this.api(t,e,n);o.once("error",s),o.on("data",e=>r.push(n.transform(e))),o.once("end",()=>i(r))})}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}}t.default=s},function(e,t,n){"use strict";function r(e,t){e(t)}function i(e,t){e(null,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.read=function(e,t,n){t.fs.lstat(e,(s,o)=>null!==s?r(n,s):o.isSymbolicLink()&&t.followSymbolicLink?void t.fs.stat(e,(e,s)=>{if(null!==e)return t.throwErrorOnBrokenSymbolicLink?r(n,e):i(n,o);t.markSymbolicLink&&(s.isSymbolicLink=()=>!0),i(n,s)}):i(n,o))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.read=function(e,t){const n=t.fs.lstatSync(e);if(!n.isSymbolicLink()||!t.followSymbolicLink)return n;try{const n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(e){if(!t.throwErrorOnBrokenSymbolicLink)return n;throw e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69);t.default=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=r.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return void 0===e?t:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8);t.FILE_SYSTEM_ADAPTER={lstat:r.lstat,stat:r.stat,lstatSync:r.lstatSync,statSync:r.statSync},t.createFileSystemAdapter=function(e){return void 0===e?t.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},t.FILE_SYSTEM_ADAPTER),e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(31);t.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new r.default(this._root,this._settings),this._storage=new Set}read(e){this._reader.onError(t=>{!function(e,t){e(t)}(e,t)}),this._reader.onEntry(e=>{this._storage.add(e)}),this._reader.onEnd(()=>{!function(e,t){e(null,t)}(e,[...this._storage])}),this._reader.read()}}},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(73),s=n(32),o=n(33);function a(e,t,n){t.fs.readdir(e,{withFileTypes:!0},(r,s)=>{if(null!==r)return c(n,r);const a=s.map(n=>({dirent:n,name:n.name,path:`${e}${t.pathSegmentSeparator}${n.name}`}));if(!t.followSymbolicLinks)return l(n,a);const u=a.map(e=>(function(e,t){return n=>{if(!e.dirent.isSymbolicLink())return n(null,e);t.fs.stat(e.path,(r,i)=>null!==r?t.throwErrorOnBrokenSymbolicLink?n(r):n(null,e):(e.dirent=o.fs.createDirentFromStats(e.name,i),n(null,e)))}})(e,t));i(u,(e,t)=>{if(null!==e)return c(n,e);l(n,t)})})}function u(e,t,n){t.fs.readdir(e,(s,a)=>{if(null!==s)return c(n,s);const u=a.map(n=>`${e}${t.pathSegmentSeparator}${n}`),d=u.map(e=>n=>r.stat(e,t.fsStatSettings,n));i(d,(e,r)=>{if(null!==e)return c(n,e);const i=[];a.forEach((e,n)=>{const s=r[n],a={name:e,path:u[n],dirent:o.fs.createDirentFromStats(e,s)};t.stats&&(a.stats=s),i.push(a)}),l(n,i)})})}function c(e,t){e(t)}function l(e,t){e(null,t)}t.read=function(e,t,n){return!t.stats&&s.IS_SUPPORT_READDIR_WITH_FILE_TYPES?a(e,t,n):u(e,t,n)},t.readdirWithFileTypes=a,t.readdir=u},function(e,t){e.exports=function(e,t){var n,r,i,s=!0;Array.isArray(e)?(n=[],r=e.length):(i=Object.keys(e),n={},r=i.length);function o(e){function r(){t&&t(e,n),t=null}s?process.nextTick(r):r()}function a(e,t,i){n[e]=i,(0==--r||t)&&o(t)}r?i?i.forEach((function(t){e[t]((function(e,n){a(t,e,n)}))})):e.forEach((function(e,t){e((function(e,n){a(t,e,n)}))})):o(null);s=!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}t.createDirentFromStats=function(e,t){return new r(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(32),s=n(33);function o(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{const r={dirent:n,name:n.name,path:`${e}${t.pathSegmentSeparator}${n.name}`};if(r.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{const e=t.fs.statSync(r.path);r.dirent=s.fs.createDirentFromStats(r.name,e)}catch(e){if(t.throwErrorOnBrokenSymbolicLink)throw e}return r})}function a(e,t){return t.fs.readdirSync(e).map(n=>{const i=`${e}${t.pathSegmentSeparator}${n}`,o=r.statSync(i,t.fsStatSettings),a={name:n,path:i,dirent:s.fs.createDirentFromStats(n,o)};return t.stats&&(a.stats=o),a})}t.read=function(e,t){return!t.stats&&i.IS_SUPPORT_READDIR_WITH_FILE_TYPES?o(e,t):a(e,t)},t.readdirWithFileTypes=o,t.readdir=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(10),s=n(77);t.default=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=s.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,r.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new i.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return void 0===e?t:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8);t.FILE_SYSTEM_ADAPTER={lstat:r.lstat,stat:r.stat,lstatSync:r.lstatSync,statSync:r.statSync,readdir:r.readdir,readdirSync:r.readdirSync},t.createFileSystemAdapter=function(e){return void 0===e?t.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},t.FILE_SYSTEM_ADAPTER),e)}},function(e,t,n){"use strict";var r=n(79);function i(){}function s(){this.value=null,this.callback=i,this.next=null,this.release=i,this.context=null;var e=this;this.worked=function(t,n){var r=e.callback;e.value=null,e.callback=i,r.call(e.context,t,n),e.release(e)}}e.exports=function(e,t,n){"function"==typeof e&&(n=t,t=e,e=null);var o=r(s),a=null,u=null,c=0,l={push:function(n,r){var s=o.get();s.context=e,s.release=d,s.value=n,s.callback=r||i,c===l.concurrency||l.paused?u?(u.next=s,u=s):(a=s,u=s,l.saturated()):(c++,t.call(e,s.value,s.worked))},drain:i,saturated:i,pause:function(){l.paused=!0},paused:!1,concurrency:n,running:function(){return c},resume:function(){if(!l.paused)return;l.paused=!1;for(var e=0;e<l.concurrency;e++)c++,d()},idle:function(){return 0===c&&0===l.length()},length:function(){var e=a,t=0;for(;e;)e=e.next,t++;return t},unshift:function(n,r){var s=o.get();s.context=e,s.release=d,s.value=n,s.callback=r||i,c===l.concurrency||l.paused?a?(s.next=a,a=s):(a=s,u=s,l.saturated()):(c++,t.call(e,s.value,s.worked))},empty:i,kill:function(){a=null,u=null,l.drain=i},killAndDrain:function(){a=null,u=null,l.drain(),l.drain=i}};return l;function d(n){n&&o.release(n);var r=a;r?l.paused?c--:(u===a&&(u=null),a=r.next,r.next=null,t.call(e,r.value,r.worked),null===u&&l.empty()):0==--c&&l.drain()}}},function(e,t,n){"use strict";e.exports=function(e){var t=new e,n=t;return{get:function(){var r=t;return r.next?t=r.next:(t=new e,n=t),r.next=null,r},release:function(e){n.next=e,n=e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),i=n(31);t.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new i.default(this._root,this._settings),this._stream=new r.Readable({objectMode:!0,read:()=>{},destroy:this._reader.destroy.bind(this._reader)})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(82);t.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new r.default(this._root,this._settings)}read(){return this._reader.read()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(21),i=n(22),s=n(34);class o extends s.default{constructor(){super(...arguments),this._scandir=r.scandirSync,this._storage=new Set,this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),[...this._storage]}_pushToQueue(e,t){this._queue.add({directory:e,base:t})}_handleQueue(){for(const e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,t){try{const n=this._scandir(e,this._settings.fsScandirSettings);for(const e of n)this._handleEntry(e,t)}catch(e){this._handleError(e)}}_handleError(e){if(i.isFatalError(this._settings,e))throw e}_handleEntry(e,t){const n=e.path;void 0!==t&&(e.path=i.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),i.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&i.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,e.path)}_pushToStorage(e){this._storage.add(e)}}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(21);t.default=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,1/0),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,r.sep),this.fsScandirSettings=new i.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return void 0===e?t:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);t.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,n){const r=this._getMaxPatternDepth(t),i=this._getNegativePatternsRe(n);return t=>this._filter(e,t,i,r)}_getMaxPatternDepth(e){return e.some(r.pattern.hasGlobStar)?1/0:r.pattern.getMaxNaivePatternsDepth(e)}_getNegativePatternsRe(e){const t=e.filter(r.pattern.isAffectDepthOfReadingPattern);return r.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,n,r){const i=this._getEntryDepth(e,t.path);return!this._isSkippedByDeep(i)&&(!this._isSkippedByMaxPatternDepth(i,r)&&(!this._isSkippedSymbolicLink(t)&&this._isSkippedByNegativePatterns(t,n)))}_getEntryDepth(e,t){const n=e.split("/").length;return t.split("/").length-(""===e?0:n)}_isSkippedByDeep(e){return e>=this._settings.deep}_isSkippedByMaxPatternDepth(e,t){return!this._settings.baseNameMatch&&t!==1/0&&e>t}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByNegativePatterns(e,t){return!r.pattern.matchAny(e.path,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);t.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,t){const n=r.pattern.convertPatternsToRe(e,this._micromatchOptions),i=r.pattern.convertPatternsToRe(t,this._micromatchOptions);return e=>this._filter(e,n,i)}_filter(e,t,n){if(this._settings.unique){if(this._isDuplicateEntry(e))return!1;this._createIndexRecord(e)}if(this._onlyFileFilter(e)||this._onlyDirectoryFilter(e))return!1;if(this._isSkippedByAbsoluteNegativePatterns(e,n))return!1;const r=this._settings.baseNameMatch?e.name:e.path;return this._isMatchToPatterns(r,t)&&!this._isMatchToPatterns(e.path,n)}_isDuplicateEntry(e){return this.index.has(e.path)}_createIndexRecord(e){this.index.set(e.path,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,t){if(!this._settings.absolute)return!1;const n=r.path.makeAbsolute(this._settings.cwd,e.path);return this._isMatchToPatterns(n,t)}_isMatchToPatterns(e,t){return r.pattern.matchAny(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);t.default=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return r.errno.isEnoentCodeError(e)||this._settings.suppressErrors}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);t.default=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;return this._settings.absolute&&(t=r.path.makeAbsolute(this._settings.cwd,t),t=r.path.unixify(t)),this._settings.markDirectories&&e.dirent.isDirectory()&&(t+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:t}):t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),i=n(29),s=n(23);class o extends s.default{constructor(){super(...arguments),this._reader=new i.default(this._settings)}read(e){const t=this._getRootDirectory(e),n=this._getReaderOptions(e),i=this.api(t,e,n),s=new r.Readable({objectMode:!0,read:()=>{}});return i.once("error",e=>s.emit("error",e)).on("data",e=>s.emit("data",n.transform(e))).once("end",()=>s.emit("end")),s}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(90),i=n(23);class s extends i.default{constructor(){super(...arguments),this._reader=new r.default(this._settings)}read(e){const t=this._getRootDirectory(e),n=this._getReaderOptions(e);return this.api(t,e,n).map(n.transform)}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(30),s=n(35);class o extends s.default{constructor(){super(...arguments),this._walkSync=i.walkSync,this._statSync=r.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){const n=[];for(const r of e){const e=this._getFullEntryPath(r),i=this._getEntry(e,r,t);null!==i&&t.entryFilter(i)&&n.push(i)}return n}_getEntry(e,t,n){try{const n=this._getStat(e);return this._makeEntry(n,t)}catch(e){if(n.errorFilter(e))return null;throw e}}_getStat(e){return this._statSync(e,this._fsStatSettings)}}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),i=n(4).cpus().length;t.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:r.lstat,lstatSync:r.lstatSync,stat:r.stat,statSync:r.statSync,readdir:r.readdir,readdirSync:r.readdirSync};t.default=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,i),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,t){return void 0===e?t:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},t.DEFAULT_FILE_SYSTEM_ADAPTER),e)}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),s=n(93);class o extends i.Dispose{constructor(e,t,n=1e3){super(),this.lines=e,this._time=n,this.top=0,this.width=0,this.height=0;for(const n of e){const e=Buffer.byteLength(n);this.width=Math.max(this.width,Math.min(e,t)),this.height=this.height+Math.max(1,Math.ceil(e/(t-2)))}this.floatWindow=new s.FloatWindow(this),this.push(this.floatWindow)}get time(){return this._time}get isInvalid(){return this._time<=0}show(e){return r(this,void 0,void 0,(function*(){this.top=e,yield this.floatWindow.show(e)}))}update(e,t){return r(this,void 0,void 0,(function*(){this._time-=e,this.top!==t&&(this.top=t,yield this.floatWindow.update(t))}))}}t.Message=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(1);class o extends s.Dispose{constructor(e){super(),this.message=e}show(e){return r(this,void 0,void 0,(function*(){const{nvim:t}=i.workspace,{message:n}=this,r=yield t.createNewBuffer(!1,!0);yield r.replace(n.lines,0);const s=yield t.getOption("columns"),o=yield t.openFloatWindow(r,!1,{focusable:!1,relative:"editor",anchor:"NE",height:n.height,width:n.width+2,row:e,col:s});this.buf=r,this.win=o,t.pauseNotification(),yield o.setOption("number",!1),yield o.setOption("wrap",!0),yield o.setOption("relativenumber",!1),yield o.setOption("cursorline",!1),yield o.setOption("cursorcolumn",!1),yield o.setOption("conceallevel",2),yield o.setOption("signcolumn","no");try{yield o.setOption("foldcolumn",1)}catch(e){yield o.setOption("foldcolumn","1")}yield o.setOption("winhighlight","FoldColumn:NormalFloat"),yield t.resumeNotification()}))}dispose(){const e=Object.create(null,{dispose:{get:()=>super.dispose}});return r(this,void 0,void 0,(function*(){e.dispose.call(this),this.buf&&(this.buf=void 0),this.win&&(yield this.win.close(!0))}))}update(e){return r(this,void 0,void 0,(function*(){const{win:t}=this;if(t){const n=yield t.getConfig();yield t.setConfig(Object.assign(Object.assign({},n),{row:e}))}}))}}t.FloatWindow=o},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(13)),s=r(n(4));t.opener=function(e,t){e=[].concat(e);let n,r=process.platform;switch("linux"===r&&-1!==s.default.release().indexOf("Microsoft")&&(r="win32"),r){case"win32":n="cmd.exe",t&&e.unshift(t);break;case"darwin":n="open",t&&(e.unshift(t),e.unshift("-a"));break;default:n=t||"xdg-open"}return"win32"===r&&(e=e.map(e=>e.replace(/&/g,"^&")),e=["/c","start",'""'].concat(e)),i.default.spawn(n,e,{detached:!0,shell:"win32"===s.default.platform()||void 0})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(4)),o=n(0),a=n(13),u=n(7),c=n(3),l=n(11),d=n(1),h=c.logger.getlog("devtools-server");class f extends d.Dispose{constructor(){super(),this.onHandler=[],this._onError=e=>{this.launchDevToolsTask=void 0,h(`devtools server error: ${e.message}`)},this._onExit=e=>{this.launchDevToolsTask=void 0,h(`devtools server exit with: ${e}`)},this.push({dispose:()=>{if(this.port=void 0,this.PID=void 0,this.host=void 0,this.launchDevToolsTask)try{this.launchDevToolsTask.kill(),this.launchDevToolsTask=void 0}catch(e){h(`dispose server error: ${e.message}`)}}})}get state(){return!!(this.launchDevToolsTask&&this.port&&this.host&&this.PID)}get devToolsUri(){return this.state?`${this.host}:${this.port}`:void 0}start(){return r(this,void 0,void 0,(function*(){if(this.state)return l.notification.show("Flutter devtools is running!"),!1;const e=yield u.getFlutterWorkspaceFolder();return e?(l.notification.show("Launching flutter devtools..."),this.launchDevToolsTask=a.spawn("flutter",["pub","global","run","devtools","--machine","--try-ports","10"],{cwd:e,detached:!1,shell:"win32"===s.default.platform()||void 0}),this.launchDevToolsTask.on("exit",this._onExit),this.launchDevToolsTask.on("error",this._onError),this.onHandler.length&&(this.onHandler.forEach(e=>e()),this.onHandler=[]),!0):(l.notification.show("Flutter project workspaceFolder not found!"),!1)}))}onStdout(e){const t=()=>{this.launchDevToolsTask.stdout.on("data",t=>{const n=t.toString();try{const e=JSON.parse(n);this.port=e.params.port,this.PID=e.params.pid,this.host=e.params.host,h(`Devtools running at ${this.host}:${this.port} with PID: ${this.PID}`)}catch(e){h(`error while parsing ${n}:`),h(e)}e()})};this.launchDevToolsTask&&this.launchDevToolsTask.stdout?t():this.onHandler.push(t)}onStderr(e){const t=()=>{this.launchDevToolsTask.stderr.on("data",t=>{const n=t.toString();if(n.match(/No active package devtools/g)){const t=o.workspace.showPrompt("Flutter pub global devtools has not been activated. Activate now?");this.handleDevToolsActivationPrompt(t,e)}else h(n)})};this.launchDevToolsTask&&this.launchDevToolsTask.stderr?t():this.onHandler.push(t)}handleDevToolsActivationPrompt(e,t){return r(this,void 0,void 0,(function*(){if(yield e){const e=yield u.getFlutterWorkspaceFolder();if(!e)return l.notification.show("Flutter project workspaceFolder not found!"),!1;this.activateDevToolsTask=a.spawn("flutter",["pub","global","activate","devtools"],{cwd:e,detached:!1,shell:"win32"===s.default.platform()||void 0}),this.activateDevToolsTask.on("exit",()=>{t(),this.activateDevToolsTask=void 0}),this.activateDevToolsTask.on("error",e=>{l.notification.show(`Error activating devtools: ${e.message}`),h(e.message),this.activateDevToolsTask=void 0}),this.push({dispose:()=>{if(this.activateDevToolsTask)try{this.activateDevToolsTask.kill(),this.activateDevToolsTask=void 0}catch(e){h(`Error disposing activateDevToolsTask: ${e.message}`)}}})}else l.notification.show('You must run "Flutter pub global activate devtools" to launch a devtools browser debugger.')}))}}t.devToolsServer=new f},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(1),o=n(6),a=n(7),u=n(3),c=n(11),l=n(97),d=u.logger.getlog("global-commands"),h=()=>({cmd:e,getArgs:t},...n)=>r(void 0,void 0,void 0,(function*(){let r=[];t&&(r=yield t()),n.length&&(r=r.concat(n));const{err:i,stdout:s,stderr:o}=yield a.execCommand(`flutter ${e} ${r.join(" ")}`),c=u.logger.devOutchannel;s&&c.append(`\n${s}\n`),o&&c.append(`\n${o}\n`),i&&c.append([i.message,i.stack].join("\n")),c.show()})),f=[{cmd:"upgrade",desc:"flutter upgrade",execute:h()},{cmd:"doctor",desc:"flutter doctor",execute:h()},{cmd:"create",desc:"flutter create",execute:h(),getArgs:()=>r(void 0,void 0,void 0,(function*(){return(yield i.workspace.requestInput("Input project name and other params: ")).split(" ")}))},{cmd:"pub get",name:"pub.get",desc:"flutter pub get",execute:()=>r(void 0,void 0,void 0,(function*(){const e=yield a.getFlutterWorkspaceFolder();if(d(`pub get command, workspace: ${e}`),!e)return void c.notification.show("Flutter project workspaceFolder not found!");const{code:t,err:n,stdout:r,stderr:i}=yield a.execCommand("flutter pub get",{cwd:e});c.notification.show(l.formatMessage(r)),(n||t)&&c.notification.show(l.formatMessage(i))}))},{cmd:"devices",desc:"open devices list",execute:()=>r(void 0,void 0,void 0,(function*(){i.workspace.nvim.command("CocList FlutterDevices")}))},{cmd:"emulators",desc:"open emulators list",execute:()=>r(void 0,void 0,void 0,(function*(){i.workspace.nvim.command("CocList FlutterEmulators")}))}];class p extends s.Dispose{constructor(){super(),f.forEach(e=>{const{desc:t,execute:n,name:s}=e,a=`${o.cmdPrefix}.${s||e.cmd}`;this.push(i.commands.registerCommand(a,(...s)=>r(this,void 0,void 0,(function*(){const r=i.workspace.createStatusBarItem(0,{progress:!0});this.push(r),r.text=t,r.show(),yield n(e,...s),this.remove(r)})))),i.commands.titles.set(a,t)})}}t.Global=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6);t.formatMessage=e=>e.trim().replace(/\s+/g," ").split(r.lineBreak),t.reduceSpace=e=>e.trim().replace(/\s+/g," ")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),s=n(0),o=n(6),a=n(11);class u extends i.Dispose{constructor(e){super(),this.requestType="dart/textDocument/super",this.cmdId=`${o.cmdPrefix}.gotoSuper`,this.push(s.commands.registerCommand(this.cmdId,()=>r(this,void 0,void 0,(function*(){if(!e.client)return a.notification.show("analyzer LSP server is not running");const t=yield s.workspace.document;if(!t||!t.textDocument||"dart"!==t.textDocument.languageId)return;const n=yield s.workspace.getCursorPosition(),r={textDocument:{uri:t.uri},position:n},i=yield e.client.sendRequest(this.requestType,r);i&&s.workspace.jumpTo(i.uri,i.range.start)})))),s.commands.titles.set(this.cmdId,"jump to the location of the super definition of the class or method")}dispose(){super.dispose(),s.commands.titles.delete(this.cmdId)}}t.SuperCommand=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(100),i=n(1),s=n(117);class o extends i.Dispose{constructor(){super(),this.push(r.registerHotReloadProvider(),s.pubUpdateProvider())}}t.Providers=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(24),s=n(27);t.registerHotReloadProvider=()=>{const e=r.workspace.getConfiguration("flutter").get("provider.hot-reload",!0);let t;e&&(t=r.workspace.onDidSaveTextDocument(e=>{if("dart"===e.languageId&&s.devServer.state){const t=r.diagnosticManager.getDiagnostics(e.uri);t&&null!=t.find(e=>"dart"===e.source&&e.severity===i.DiagnosticSeverity.Error)||s.devServer.sendCommand("r")}}));const n=r.workspace.onDidChangeConfiguration(n=>{if(n.affectsConfiguration("flutter")){const n=r.workspace.getConfiguration("flutter").get("provider.hot-reload",!0);e&&!n?t&&(t.dispose(),t=void 0):!e&&n&&(t=r.workspace.onDidSaveTextDocument(e=>{"dart"===e.languageId&&s.devServer.state&&s.devServer.sendCommand("r")}))}});return{dispose(){t&&t.dispose(),n.dispose()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(12);var i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.MessageWriteError=1,e.MessageReadError=2}(i=t.ErrorCodes||(t.ErrorCodes={}));class s extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,s.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=s;class o{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageType=o;t.RequestType0=class extends o{constructor(e){super(e,0),this._=void 0}};t.RequestType=class extends o{constructor(e){super(e,1),this._=void 0}};t.RequestType1=class extends o{constructor(e){super(e,1),this._=void 0}};t.RequestType2=class extends o{constructor(e){super(e,2),this._=void 0}};t.RequestType3=class extends o{constructor(e){super(e,3),this._=void 0}};t.RequestType4=class extends o{constructor(e){super(e,4),this._=void 0}};t.RequestType5=class extends o{constructor(e){super(e,5),this._=void 0}};t.RequestType6=class extends o{constructor(e){super(e,6),this._=void 0}};t.RequestType7=class extends o{constructor(e){super(e,7),this._=void 0}};t.RequestType8=class extends o{constructor(e){super(e,8),this._=void 0}};t.RequestType9=class extends o{constructor(e){super(e,9),this._=void 0}};t.NotificationType=class extends o{constructor(e){super(e,1),this._=void 0}};t.NotificationType0=class extends o{constructor(e){super(e,0),this._=void 0}};t.NotificationType1=class extends o{constructor(e){super(e,1),this._=void 0}};t.NotificationType2=class extends o{constructor(e){super(e,2),this._=void 0}};t.NotificationType3=class extends o{constructor(e){super(e,3),this._=void 0}};t.NotificationType4=class extends o{constructor(e){super(e,4),this._=void 0}};t.NotificationType5=class extends o{constructor(e){super(e,5),this._=void 0}};t.NotificationType6=class extends o{constructor(e){super(e,6),this._=void 0}};t.NotificationType7=class extends o{constructor(e){super(e,7),this._=void 0}};t.NotificationType8=class extends o{constructor(e){super(e,8),this._=void 0}};t.NotificationType9=class extends o{constructor(e){super(e,9),this._=void 0}},t.isRequestMessage=function(e){let t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},t.isNotificationMessage=function(e){let t=e;return t&&r.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17),i=n(12);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None}),e.is=function(t){let n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));const o=Object.freeze((function(e,t){let n=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(n)}}}));class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?o:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this.cancel()}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(r=t.Touch||(t.Touch={}));t.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._head;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next}forEachReverse(e,t){let n=this._tail;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(4),s=n(105),o=n(36),a=n(25),u=n(26);t.generateRandomPipeName=function(){const e=s.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:r.join(i.tmpdir(),`vscode-${e}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let n,r=new Promise((e,t)=>{n=e});return new Promise((i,s)=>{let c=o.createServer(e=>{c.close(),n([new a.SocketMessageReader(e,t),new u.SocketMessageWriter(e,t)])});c.on("error",s),c.listen(e,()=>{c.removeListener("error",s),i({onConnected:()=>r})})})},t.createServerPipeTransport=function(e,t="utf-8"){const n=o.createConnection(e);return[new a.SocketMessageReader(n,t),new u.SocketMessageWriter(n,t)]}},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(36),i=n(25),s=n(26);t.createClientSocketTransport=function(e,t="utf-8"){let n,o=new Promise((e,t)=>{n=e});return new Promise((a,u)=>{let c=r.createServer(e=>{c.close(),n([new i.SocketMessageReader(e,t),new s.SocketMessageWriter(e,t)])});c.on("error",u),c.listen(e,"127.0.0.1",()=>{c.removeListener("error",u),a({onConnected:()=>o})})})},t.createServerSocketTransport=function(e,t="utf-8"){const n=r.createConnection(e,"127.0.0.1");return[new i.SocketMessageReader(n,t),new s.SocketMessageWriter(n,t)]}},function(e,t,n){"use strict";var r,i,s,o,a,u,c,l,d,h,f,p,g,m,v,y,_,b,w;n.r(t),n.d(t,"Position",(function(){return r})),n.d(t,"Range",(function(){return i})),n.d(t,"Location",(function(){return s})),n.d(t,"LocationLink",(function(){return o})),n.d(t,"Color",(function(){return a})),n.d(t,"ColorInformation",(function(){return u})),n.d(t,"ColorPresentation",(function(){return c})),n.d(t,"FoldingRangeKind",(function(){return l})),n.d(t,"FoldingRange",(function(){return d})),n.d(t,"DiagnosticRelatedInformation",(function(){return h})),n.d(t,"DiagnosticSeverity",(function(){return f})),n.d(t,"Diagnostic",(function(){return p})),n.d(t,"Command",(function(){return g})),n.d(t,"TextEdit",(function(){return m})),n.d(t,"TextDocumentEdit",(function(){return v})),n.d(t,"CreateFile",(function(){return y})),n.d(t,"RenameFile",(function(){return _})),n.d(t,"DeleteFile",(function(){return b})),n.d(t,"WorkspaceEdit",(function(){return w})),n.d(t,"WorkspaceChange",(function(){return q})),n.d(t,"TextDocumentIdentifier",(function(){return S})),n.d(t,"VersionedTextDocumentIdentifier",(function(){return R})),n.d(t,"TextDocumentItem",(function(){return E})),n.d(t,"MarkupKind",(function(){return x})),n.d(t,"MarkupContent",(function(){return T})),n.d(t,"CompletionItemKind",(function(){return C})),n.d(t,"InsertTextFormat",(function(){return k})),n.d(t,"CompletionItem",(function(){return A})),n.d(t,"CompletionList",(function(){return O})),n.d(t,"MarkedString",(function(){return P})),n.d(t,"Hover",(function(){return D})),n.d(t,"ParameterInformation",(function(){return M})),n.d(t,"SignatureInformation",(function(){return L})),n.d(t,"DocumentHighlightKind",(function(){return N})),n.d(t,"DocumentHighlight",(function(){return $})),n.d(t,"SymbolKind",(function(){return F})),n.d(t,"SymbolInformation",(function(){return I})),n.d(t,"DocumentSymbol",(function(){return G})),n.d(t,"CodeActionKind",(function(){return j})),n.d(t,"CodeActionContext",(function(){return B})),n.d(t,"CodeAction",(function(){return W})),n.d(t,"CodeLens",(function(){return U})),n.d(t,"FormattingOptions",(function(){return K})),n.d(t,"DocumentLink",(function(){return V})),n.d(t,"EOL",(function(){return Y})),n.d(t,"TextDocument",(function(){return z})),n.d(t,"TextDocumentSaveReason",(function(){return Q})),function(e){e.create=function(e,t){return{line:e,character:t}},e.is=function(e){var t=e;return X.objectLiteral(t)&&X.number(t.line)&&X.number(t.character)}}(r||(r={})),function(e){e.create=function(e,t,n,i){if(X.number(e)&&X.number(t)&&X.number(n)&&X.number(i))return{start:r.create(e,t),end:r.create(n,i)};if(r.is(e)&&r.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+i+"]")},e.is=function(e){var t=e;return X.objectLiteral(t)&&r.is(t.start)&&r.is(t.end)}}(i||(i={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return X.defined(t)&&i.is(t.range)&&(X.string(t.uri)||X.undefined(t.uri))}}(s||(s={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return X.defined(t)&&i.is(t.targetRange)&&X.string(t.targetUri)&&(i.is(t.targetSelectionRange)||X.undefined(t.targetSelectionRange))&&(i.is(t.originSelectionRange)||X.undefined(t.originSelectionRange))}}(o||(o={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return X.number(t.red)&&X.number(t.green)&&X.number(t.blue)&&X.number(t.alpha)}}(a||(a={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return i.is(t.range)&&a.is(t.color)}}(u||(u={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return X.string(t.label)&&(X.undefined(t.textEdit)||m.is(t))&&(X.undefined(t.additionalTextEdits)||X.typedArray(t.additionalTextEdits,m.is))}}(c||(c={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(l||(l={})),function(e){e.create=function(e,t,n,r,i){var s={startLine:e,endLine:t};return X.defined(n)&&(s.startCharacter=n),X.defined(r)&&(s.endCharacter=r),X.defined(i)&&(s.kind=i),s},e.is=function(e){var t=e;return X.number(t.startLine)&&X.number(t.startLine)&&(X.undefined(t.startCharacter)||X.number(t.startCharacter))&&(X.undefined(t.endCharacter)||X.number(t.endCharacter))&&(X.undefined(t.kind)||X.string(t.kind))}}(d||(d={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return X.defined(t)&&s.is(t.location)&&X.string(t.message)}}(h||(h={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(f||(f={})),function(e){e.create=function(e,t,n,r,i,s){var o={range:e,message:t};return X.defined(n)&&(o.severity=n),X.defined(r)&&(o.code=r),X.defined(i)&&(o.source=i),X.defined(s)&&(o.relatedInformation=s),o},e.is=function(e){var t=e;return X.defined(t)&&i.is(t.range)&&X.string(t.message)&&(X.number(t.severity)||X.undefined(t.severity))&&(X.number(t.code)||X.string(t.code)||X.undefined(t.code))&&(X.string(t.source)||X.undefined(t.source))&&(X.undefined(t.relatedInformation)||X.typedArray(t.relatedInformation,h.is))}}(p||(p={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return X.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return X.defined(t)&&X.string(t.title)&&X.string(t.command)}}(g||(g={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return X.objectLiteral(t)&&X.string(t.newText)&&i.is(t.range)}}(m||(m={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return X.defined(t)&&R.is(t.textDocument)&&Array.isArray(t.edits)}}(v||(v={})),function(e){e.create=function(e,t){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"create"===t.kind&&X.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||X.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||X.boolean(t.options.ignoreIfExists)))}}(y||(y={})),function(e){e.create=function(e,t,n){var r={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(r.options=n),r},e.is=function(e){var t=e;return t&&"rename"===t.kind&&X.string(t.oldUri)&&X.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||X.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||X.boolean(t.options.ignoreIfExists)))}}(_||(_={})),function(e){e.create=function(e,t){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"delete"===t.kind&&X.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||X.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||X.boolean(t.options.ignoreIfNotExists)))}}(b||(b={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return X.string(e.kind)?y.is(e)||_.is(e)||b.is(e):v.is(e)})))}}(w||(w={}));var S,R,E,x,T,C,k,A,O,P,D,M,L,N,$,F,I,H=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(m.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(m.replace(e,t))},e.prototype.delete=function(e){this.edits.push(m.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),q=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e&&(this._workspaceEdit=e,e.documentChanges?e.documentChanges.forEach((function(e){if(v.is(e)){var n=new H(e.edits);t._textEditChanges[e.textDocument.uri]=n}})):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new H(e.changes[n]);t._textEditChanges[n]=r})))}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(R.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t=e;if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new H(i),this._textEditChanges[t.uri]=r}return r}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new H(i),this._textEditChanges[e]=r}return r},e.prototype.createFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(y.create(e,t))},e.prototype.renameFile=function(e,t,n){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(_.create(e,t,n))},e.prototype.deleteFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(b.create(e,t))},e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return X.defined(t)&&X.string(t.uri)}}(S||(S={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return X.defined(t)&&X.string(t.uri)&&(null===t.version||X.number(t.version))}}(R||(R={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return X.defined(t)&&X.string(t.uri)&&X.string(t.languageId)&&X.number(t.version)&&X.string(t.text)}}(E||(E={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(x||(x={})),function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(x||(x={})),function(e){e.is=function(e){var t=e;return X.objectLiteral(e)&&x.is(t.kind)&&X.string(t.value)}}(T||(T={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(C||(C={})),function(e){e.PlainText=1,e.Snippet=2}(k||(k={})),function(e){e.create=function(e){return{label:e}}}(A||(A={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(O||(O={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return X.string(t)||X.objectLiteral(t)&&X.string(t.language)&&X.string(t.value)}}(P||(P={})),function(e){e.is=function(e){var t=e;return!!t&&X.objectLiteral(t)&&(T.is(t.contents)||P.is(t.contents)||X.typedArray(t.contents,P.is))&&(void 0===e.range||i.is(e.range))}}(D||(D={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(M||(M={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return X.defined(t)&&(i.documentation=t),X.defined(n)?i.parameters=n:i.parameters=[],i}}(L||(L={})),function(e){e.Text=1,e.Read=2,e.Write=3}(N||(N={})),function(e){e.create=function(e,t){var n={range:e};return X.number(t)&&(n.kind=t),n}}($||($={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(F||(F={})),function(e){e.create=function(e,t,n,r,i){var s={name:e,kind:t,location:{uri:r,range:n}};return i&&(s.containerName=i),s}}(I||(I={}));var j,B,W,U,K,G=function(){};!function(e){e.create=function(e,t,n,r,i,s){var o={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==s&&(o.children=s),o},e.is=function(e){var t=e;return t&&X.string(t.name)&&X.number(t.kind)&&i.is(t.range)&&i.is(t.selectionRange)&&(void 0===t.detail||X.string(t.detail))&&(void 0===t.deprecated||X.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))}}(G||(G={})),function(e){e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports"}(j||(j={})),function(e){e.create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function(e){var t=e;return X.defined(t)&&X.typedArray(t.diagnostics,p.is)&&(void 0===t.only||X.typedArray(t.only,X.string))}}(B||(B={})),function(e){e.create=function(e,t,n){var r={title:e};return g.is(t)?r.command=t:r.edit=t,void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&X.string(t.title)&&(void 0===t.diagnostics||X.typedArray(t.diagnostics,p.is))&&(void 0===t.kind||X.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||g.is(t.command))&&(void 0===t.edit||w.is(t.edit))}}(W||(W={})),function(e){e.create=function(e,t){var n={range:e};return X.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return X.defined(t)&&i.is(t.range)&&(X.undefined(t.command)||g.is(t.command))}}(U||(U={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return X.defined(t)&&X.number(t.tabSize)&&X.boolean(t.insertSpaces)}}(K||(K={}));var V=function(){};!function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return X.defined(t)&&i.is(t.range)&&(X.undefined(t.target)||X.string(t.target))}}(V||(V={}));var z,Q,Y=["\n","\r\n","\r"];!function(e){e.create=function(e,t,n,r){return new J(e,t,n,r)},e.is=function(e){var t=e;return!!(X.defined(t)&&X.string(t.uri)&&(X.undefined(t.languageId)||X.string(t.languageId))&&X.number(t.lineCount)&&X.func(t.getText)&&X.func(t.positionAt)&&X.func(t.offsetAt))},e.applyEdits=function(e,t){for(var n=e.getText(),r=function e(t,n){if(t.length<=1)return t;var r=t.length/2|0;var i=t.slice(0,r);var s=t.slice(r);e(i,n);e(s,n);var o=0;var a=0;var u=0;for(;o<i.length&&a<s.length;){var c=n(i[o],s[a]);t[u++]=c<=0?i[o++]:s[a++]}for(;o<i.length;)t[u++]=i[o++];for(;a<s.length;)t[u++]=s[a++];return t}(t,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),i=n.length,s=r.length-1;s>=0;s--){var o=r[s],a=e.offsetAt(o.range.start),u=e.offsetAt(o.range.end);if(!(u<=i))throw new Error("Overlapping edit");n=n.substring(0,a)+o.newText+n.substring(u,n.length),i=a}return n}}(z||(z={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(Q||(Q={}));var X,J=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=null},e.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,i=t.length;if(0===i)return r.create(0,e);for(;n<i;){var s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}var o=n-1;return r.create(o,e-t[o])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(X||(X={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(109),i=n(5),s=n(110);t.ImplementationRequest=s.ImplementationRequest;const o=n(111);t.TypeDefinitionRequest=o.TypeDefinitionRequest;const a=n(112);t.WorkspaceFoldersRequest=a.WorkspaceFoldersRequest,t.DidChangeWorkspaceFoldersNotification=a.DidChangeWorkspaceFoldersNotification;const u=n(113);t.ConfigurationRequest=u.ConfigurationRequest;const c=n(114);t.DocumentColorRequest=c.DocumentColorRequest,t.ColorPresentationRequest=c.ColorPresentationRequest;const l=n(115);t.FoldingRangeRequest=l.FoldingRangeRequest;const d=n(116);t.DeclarationRequest=d.DeclarationRequest,function(e){e.is=function(e){let t=e;return r.string(t.language)||r.string(t.scheme)||r.string(t.pattern)}}(t.DocumentFilter||(t.DocumentFilter={})),function(e){e.type=new i.RequestType("client/registerCapability")}(t.RegistrationRequest||(t.RegistrationRequest={})),function(e){e.type=new i.RequestType("client/unregisterCapability")}(t.UnregistrationRequest||(t.UnregistrationRequest={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(t.ResourceOperationKind||(t.ResourceOperationKind={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(t.FailureHandlingKind||(t.FailureHandlingKind={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})),function(e){e.type=new i.RequestType("initialize")}(t.InitializeRequest||(t.InitializeRequest={})),function(e){e.unknownProtocolVersion=1}(t.InitializeError||(t.InitializeError={})),function(e){e.type=new i.NotificationType("initialized")}(t.InitializedNotification||(t.InitializedNotification={})),function(e){e.type=new i.RequestType0("shutdown")}(t.ShutdownRequest||(t.ShutdownRequest={})),function(e){e.type=new i.NotificationType0("exit")}(t.ExitNotification||(t.ExitNotification={})),function(e){e.type=new i.NotificationType("workspace/didChangeConfiguration")}(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4}(t.MessageType||(t.MessageType={})),function(e){e.type=new i.NotificationType("window/showMessage")}(t.ShowMessageNotification||(t.ShowMessageNotification={})),function(e){e.type=new i.RequestType("window/showMessageRequest")}(t.ShowMessageRequest||(t.ShowMessageRequest={})),function(e){e.type=new i.NotificationType("window/logMessage")}(t.LogMessageNotification||(t.LogMessageNotification={})),function(e){e.type=new i.NotificationType("telemetry/event")}(t.TelemetryEventNotification||(t.TelemetryEventNotification={})),function(e){e.type=new i.NotificationType("textDocument/didOpen")}(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didChange")}(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didClose")}(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didSave")}(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/willSave")}(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})),function(e){e.type=new i.RequestType("textDocument/willSaveWaitUntil")}(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})),function(e){e.type=new i.NotificationType("workspace/didChangeWatchedFiles")}(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(t.FileChangeType||(t.FileChangeType={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(t.WatchKind||(t.WatchKind={})),function(e){e.type=new i.NotificationType("textDocument/publishDiagnostics")}(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e.type=new i.RequestType("textDocument/completion")}(t.CompletionRequest||(t.CompletionRequest={})),function(e){e.type=new i.RequestType("completionItem/resolve")}(t.CompletionResolveRequest||(t.CompletionResolveRequest={})),function(e){e.type=new i.RequestType("textDocument/hover")}(t.HoverRequest||(t.HoverRequest={})),function(e){e.type=new i.RequestType("textDocument/signatureHelp")}(t.SignatureHelpRequest||(t.SignatureHelpRequest={})),function(e){e.type=new i.RequestType("textDocument/definition")}(t.DefinitionRequest||(t.DefinitionRequest={})),function(e){e.type=new i.RequestType("textDocument/references")}(t.ReferencesRequest||(t.ReferencesRequest={})),function(e){e.type=new i.RequestType("textDocument/documentHighlight")}(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})),function(e){e.type=new i.RequestType("textDocument/documentSymbol")}(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})),function(e){e.type=new i.RequestType("workspace/symbol")}(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})),function(e){e.type=new i.RequestType("textDocument/codeAction")}(t.CodeActionRequest||(t.CodeActionRequest={})),function(e){e.type=new i.RequestType("textDocument/codeLens")}(t.CodeLensRequest||(t.CodeLensRequest={})),function(e){e.type=new i.RequestType("codeLens/resolve")}(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})),function(e){e.type=new i.RequestType("textDocument/formatting")}(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/rangeFormatting")}(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/onTypeFormatting")}(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/rename")}(t.RenameRequest||(t.RenameRequest={})),function(e){e.type=new i.RequestType("textDocument/prepareRename")}(t.PrepareRenameRequest||(t.PrepareRenameRequest={})),function(e){e.type=new i.RequestType("textDocument/documentLink")}(t.DocumentLinkRequest||(t.DocumentLinkRequest={})),function(e){e.type=new i.RequestType("documentLink/resolve")}(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})),function(e){e.type=new i.RequestType("workspace/executeCommand")}(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})),function(e){e.type=new i.RequestType("workspace/applyEdit")}(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={}))},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return"function"==typeof e}function s(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=i,t.array=s,t.stringArray=function(e){return s(e)&&e.every(e=>r(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&i(e.then)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);!function(e){e.type=new r.RequestType("textDocument/implementation")}(t.ImplementationRequest||(t.ImplementationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);!function(e){e.type=new r.RequestType("textDocument/typeDefinition")}(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);!function(e){e.type=new r.RequestType0("workspace/workspaceFolders")}(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})),function(e){e.type=new r.NotificationType("workspace/didChangeWorkspaceFolders")}(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);!function(e){e.type=new r.RequestType("workspace/configuration")}(t.ConfigurationRequest||(t.ConfigurationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);!function(e){e.type=new r.RequestType("textDocument/documentColor")}(t.DocumentColorRequest||(t.DocumentColorRequest={})),function(e){e.type=new r.RequestType("textDocument/colorPresentation")}(t.ColorPresentationRequest||(t.ColorPresentationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.type=new r.RequestType("textDocument/foldingRange")}(t.FoldingRangeRequest||(t.FoldingRangeRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);!function(e){e.type=new r.RequestType("textDocument/declaration")}(t.DeclarationRequest||(t.DeclarationRequest={}))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(7),o=n(3).logger.getlog("Pub provider");t.pubUpdateProvider=()=>i.workspace.onDidSaveTextDocument(e=>r(void 0,void 0,void 0,(function*(){if(e.uri&&e.uri.endsWith("pubspec.yaml")){if(!(yield s.getFlutterWorkspaceFolder()))return void o("Flutter project not found!");i.commands.executeCommand("flutter.pub.get")}})))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(4),o=n(119),a=n(3),u=n(124),c=n(1),l=n(125),d=n(126),h=n(127),f=n(129),p=a.logger.getlog("lsp-server");class g extends c.Dispose{constructor(){super(),this.init()}get client(){return this._client}init(){return r(this,void 0,void 0,(function*(){const e=i.workspace.getConfiguration("flutter"),t=e.get("lsp.debug");if(yield o.flutterSDK.init(e),!o.flutterSDK.state)return void p("flutter SDK not found!");const n={command:o.flutterSDK.dartCommand,args:[o.flutterSDK.analyzerSnapshotPath,"--lsp"]},r={run:n,debug:n},c=e.get("lsp.initialization",{onlyAnalyzeProjectsWithOpenFiles:!0,suggestFromUnimportedLibraries:!0,closingLabels:!0}),g=yield o.flutterSDK.isVersionGreatOrEqualTo([2,6,0]);p(`rightVersion ${g}`);const m={disableDynamicRegister:!g,documentSelector:[{scheme:"file",language:"dart"}],initializationOptions:c,outputChannel:a.logger.outchannel,revealOutputChannelOn:i.RevealOutputChannelOn.Never,middleware:{provideCompletionItem:e.get("provider.enableSnippet",!0)?h.completionProvider:void 0,provideCodeActions:f.codeActionProvider,workspace:{didChangeWorkspaceFolders(t,n){if(t.added.length&&""!==o.flutterSDK.sdkHome){const n=e.get("workspaceFolder.ignore",[]).concat(o.flutterSDK.sdkHome).map(e=>(e=e.replace(/^(~|\$HOME)/,s.homedir()),i.Uri.file(e).toString()));t.added=t.added.filter(e=>!n.some(t=>e.uri.startsWith(t)))}(t.added.length||t.removed.length)&&n(t)}}}},v=new i.LanguageClient("flutter","flutter analysis server",r,m,t);this._client=v,u.statusBar.init(),this.push(u.statusBar),v.onReady().then(()=>{p("analysis server ready!"),c.closingLabels&&this.push(new l.ClosingLabels(v)),setTimeout(()=>{this.push(new d.SignatureHelpProvider(v))},2e3),u.statusBar.show("Flutter",!0),u.statusBar.ready(v)}).catch(e=>{u.statusBar.hide(),p(e.message||"start analysis server fail!"),p(e.stack)}),this.push(i.services.registLanguageClient(v))}))}}t.LspServer=g},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(4)),o=n(2),a=i(n(120)),u=n(3),c=n(7),l=u.logger.getlog("sdk"),d=o.join("bin","snapshots","analysis_server.dart.snapshot"),h=o.join("bin","win32"===s.default.platform()?"dart.bat":"dart");t.flutterSDK=new class{constructor(){this._sdkHOme="",this._state=!1,this._dartHome="",this._analyzerSnapshotPath="",this._dartCommand=""}get sdkHome(){return this._sdkHOme}get state(){return this._state}get dartHome(){return this._dartHome}get analyzerSnapshotPath(){return this._analyzerSnapshotPath}get dartCommand(){return this._dartCommand}getVersion(){return r(this,void 0,void 0,(function*(){if(this._dartCommand){const{stderr:e}=yield c.execCommand(`${this._dartCommand} --version`);if(e){const t=e.match(/version:\s+(\d+)\.(\d+)\.(\d+)/);if(t)return l(`dart version: v${t[1]}.${t[2]}.${t[3]}`),[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])]}}}))}isVersionGreatOrEqualTo(e){return r(this,void 0,void 0,(function*(){const t=yield this.getVersion();return!!t&&t.every((t,n)=>t>=e[n])}))}init(e){return r(this,void 0,void 0,(function*(){this._dartCommand=e.get("sdk.dart-command","");const t=e.get("sdk.flutter-lookup",""),n=e.get("sdk.dart-lookup","");try{yield this.initDarkSdkHomeFromFlutter(t),(yield c.exists(this._dartHome))||(yield this.initDarkSdkHome(n)),yield this.initDartSdk(),this._state||(l("Dart SDK not found!"),l(JSON.stringify({dartHome:this._dartHome,analyzerSnapshotPath:this._analyzerSnapshotPath},null,2)))}catch(e){l(e.message||"find dart sdk error!"),l(e.stack)}}))}initDarkSdkHomeFromFlutter(e){return r(this,void 0,void 0,(function*(){try{let t;if(0==e.length)t=yield a.default("flutter");else{const{stdout:n}=yield c.execCommand(e);if(t=n,0==n.length)throw new Error("flutter lookup returned empty string")}l(`which flutter command => ${t}`),t&&((t=yield c.getRealPath(t)).endsWith(o.join("bin","flutter"))&&(this._sdkHOme=t.replace(o.join("bin","flutter"),"")),l(`flutter command path => ${t}`),this._dartHome=o.join(o.dirname(t),"cache","dart-sdk"),l(`dart sdk home => ${this._dartHome}`))}catch(e){l(`flutter command not found: ${e.message}`)}}))}initDarkSdkHome(e){return r(this,void 0,void 0,(function*(){try{let t;if(0==e.length)t=yield a.default("dart");else{const{stdout:n}=yield c.execCommand(e);if(t=n,0==n.length)throw new Error("dart lookup returned empty string")}l(`which dart command => ${t}`),t&&(t=yield c.getRealPath(t),l(`dart command path => ${t}`),this._dartHome=o.join(o.dirname(t),".."),l(`dart sdk home => ${this._dartHome}`))}catch(e){l(`dart command not found: ${e.message}`)}}))}initDartSdk(){return r(this,void 0,void 0,(function*(){if(this._analyzerSnapshotPath=o.join(this._dartHome,d),l(`analyzer path => ${this._analyzerSnapshotPath}`),this._state=yield c.exists(this._analyzerSnapshotPath),!this._dartCommand&&(this._dartCommand=o.join(this.dartHome,h),"win32"===s.default.platform())){(yield c.exists(this._dartCommand))||(this._dartCommand=this._dartCommand.replace(/bat$/,"exe"))}l(`dart command path => ${this._dartCommand}`)}))}}},function(e,t,n){const r="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,i=n(2),s=r?";":":",o=n(121),a=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),u=(e,t)=>{const n=t.colon||s,i=e.match(/\//)||r&&e.match(/\\/)?[""]:[...r?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],o=r?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",a=r?o.split(n):[""];return r&&-1!==e.indexOf(".")&&""!==a[0]&&a.unshift(""),{pathEnv:i,pathExt:a,pathExtExe:o}},c=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t||(t={});const{pathEnv:r,pathExt:s,pathExtExe:c}=u(e,t),l=[],d=n=>new Promise((s,o)=>{if(n===r.length)return t.all&&l.length?s(l):o(a(e));const u=r[n],c=/^".*"$/.test(u)?u.slice(1,-1):u,d=i.join(c,e),f=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;s(h(f,n,0))}),h=(e,n,r)=>new Promise((i,a)=>{if(r===s.length)return i(d(n+1));const u=s[r];o(e+u,{pathExt:c},(s,o)=>{if(!s&&o){if(!t.all)return i(e+u);l.push(e+u)}return i(h(e,n,r+1))})});return n?d(0).then(e=>n(null,e),n):d(0)};e.exports=c,c.sync=(e,t)=>{t=t||{};const{pathEnv:n,pathExt:r,pathExtExe:s}=u(e,t),c=[];for(let a=0;a<n.length;a++){const u=n[a],l=/^".*"$/.test(u)?u.slice(1,-1):u,d=i.join(l,e),h=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;for(let e=0;e<r.length;e++){const n=h+r[e];try{if(o.sync(n,{pathExt:s})){if(!t.all)return n;c.push(n)}}catch(e){}}}if(t.all&&c.length)return c;if(t.nothrow)return null;throw a(e)}},function(e,t,n){var r;n(8);function i(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(n,r){i(e,t||{},(function(e,t){e?r(e):n(t)}))}))}r(e,t||{},(function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),n(e,r)}))}r="win32"===process.platform||global.TESTING_WINDOWS?n(122):n(123),e.exports=i,i.sync=function(e,t){try{return r.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},function(e,t,n){e.exports=s,s.sync=function(e,t){return i(r.statSync(e),e,t)};var r=n(8);function i(e,t,n){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var n=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!n)return!0;if(-1!==(n=n.split(";")).indexOf(""))return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}(t,n)}function s(e,t,n){r.stat(e,(function(r,s){n(r,!r&&i(s,e,t))}))}},function(e,t,n){e.exports=i,i.sync=function(e,t){return s(r.statSync(e),t)};var r=n(8);function i(e,t,n){r.stat(e,(function(e,r){n(e,!e&&s(r,t))}))}function s(e,t){return e.isFile()&&function(e,t){var n=e.mode,r=e.uid,i=e.gid,s=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),o=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),u=parseInt("010",8),c=parseInt("001",8),l=a|u;return n&c||n&u&&i===o||n&a&&r===s||n&l&&0===s}(e,t)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(1);class o extends s.Dispose{constructor(){super(...arguments),this.isLSPReady=!1,this.statusBar=void 0}ready(e){this.isLSPReady=!0,e.onNotification("$/analyzerStatus",e=>{this.progress(e.isAnalyzing)})}init(){this.statusBar=i.workspace.createStatusBarItem(0,{progress:!1}),this.push(this.statusBar),this.push(i.workspace.registerAutocmd({event:"BufEnter",request:!1,callback:()=>r(this,void 0,void 0,(function*(){if(this.isLSPReady){"dart"===(yield i.workspace.document).filetype?this.show("flutter"):this.hide()}}))}))}show(e,t){this.statusBar&&(this.statusBar.text=e,void 0!==t&&(this.statusBar.isProgress=t),this.statusBar.show())}hide(){this.statusBar&&this.statusBar.hide()}progress(e=!0){this.statusBar&&(this.statusBar.isProgress=e)}dispose(){super.dispose(),this.statusBar=void 0}}t.statusBar=new o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(1),o=n(3).logger.getlog("lsp-closing-labels"),a="flutter-closing-lablel",u="FlutterClosingLabel";class c extends s.Dispose{constructor(e){super(),this.nsIds={},this.onClosingLabels=e=>r(this,void 0,void 0,(function*(){const{uri:t,labels:n}=e;if(!n.length)return;const r=i.workspace.getDocument(t);if(!r)return;const{nvim:s}=i.workspace,{buffer:o}=r;void 0!==this.nsIds[t]&&o.clearNamespace(this.nsIds[t],1,-1),this.nsIds[t]=yield s.createNamespace(a),s.pauseNotification();for(const e of n)o.setVirtualText(this.nsIds[t],e.range.end.line,[[`// ${e.label}`,u]]);yield s.resumeNotification()})),this.init(e),o("register closing labels")}init(e){return r(this,void 0,void 0,(function*(){const{nvim:t}=i.workspace;t.hasFunction("nvim_buf_set_virtual_text")&&(yield t.command(`highlight default link ${u} Comment`),e.onNotification("dart/textDocument/publishClosingLabels",this.onClosingLabels))}))}dispose(){super.dispose();const e=Object.keys(this.nsIds);e.length&&e.forEach(e=>{const t=i.workspace.getDocument(e);t&&t.buffer.clearNamespace(this.nsIds[e],1,-1)})}}t.ClosingLabels=c},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(1);class o extends s.Dispose{constructor(e){super(),this.push(i.languages.registerSignatureHelpProvider([{language:"dart",scheme:"file"}],{provideSignatureHelp(t,n,i){return r(this,void 0,void 0,(function*(){return e.sendRequest("textDocument/signatureHelp",{textDocument:{uri:t.uri},position:n},i)}))}},["(",","]))}}t.SignatureHelpProvider=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(24),s=n(128);t.completionProvider=(e,t,n,o,a)=>r(void 0,void 0,void 0,(function*(){const r=e.getText(i.Range.create(i.Position.create(t.line,t.character-1),t)),u=yield a(e,t,n,o);let c;return(c=void 0!==u.isIncomplete?u.items:u).length>1e3&&/[a-zA-Z]/i.test(r)&&(c=c.filter(e=>new RegExp(r,"i").test(e.label))),c=c.map(s.resolveCompleteItem),void 0!==u.isIncomplete?{items:c,isIncomplete:u.isIncomplete}:c}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(24),i=/^(.*)\(…\)$/,s=/^(.*)\(\)$/,o=/^([^ ]+?:\s+),$/;t.resolveCompleteItem=e=>{const{label:t,insertTextFormat:n}=e;if(e.insertTextFormat===r.InsertTextFormat.Snippet&&e.filterText&&delete e.filterText,e.textEdit&&delete e.textEdit,e.insertTextFormat===r.InsertTextFormat.Snippet&&e.insertText&&e.insertText.endsWith("${1:}")&&(e.insertTextFormat=r.InsertTextFormat.PlainText,e.insertText=e.insertText.slice(0,-5)),"import '';"===t&&n!==r.InsertTextFormat.Snippet)return e.insertText="import '${1}';${0}",e.insertTextFormat=r.InsertTextFormat.Snippet,e;if("setState(() {});"===t&&n!==r.InsertTextFormat.Snippet)return e.insertText=["setState(() {","\t${1}","});${0}"].join("\n"),e.insertTextFormat=r.InsertTextFormat.Snippet,e;let a=t.match(o);return a?(e.insertText=`${a[1]}\${1},\${0}`,e.insertTextFormat=r.InsertTextFormat.Snippet,e):(a=t.match(s))?(e.insertText=`${a[1]}()\${0}`,e.insertTextFormat=r.InsertTextFormat.Snippet,e):(a=t.match(i))?(e.insertText=`${a[1]}(\${1})\${0}`,e.insertTextFormat=r.InsertTextFormat.Snippet,e):e}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.codeActionProvider=(e,t,n,i,s)=>r(void 0,void 0,void 0,(function*(){const r=yield s(e,t,n,i);if(!r)return r;const o=r.slice();return r.some(e=>{if("Wrap with widget..."===e.title&&e.edit){const t=e.edit;if(!t||!t.documentChanges)return!0;const n=t.documentChanges;if(!n||0===n.length)return!0;const r=Object.assign(Object.assign({},e),{title:"Delete this widget",edit:Object.assign(Object.assign({},t),{documentChanges:[Object.assign(Object.assign({},n[0]),{edits:[Object.assign(Object.assign({},n[0].edits[0]||{}),{newText:""})]})]})});return o.push(r),!0}return!1}),o}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(1),o=r(n(131)),a=r(n(142));class u extends s.Dispose{constructor(){super(),this.push(i.listManager.registerList(new o.default),i.listManager.registerList(new a.default))}}t.SourceList=u},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=i(n(37)),a=n(7),u=n(6);t.default=class{constructor(){this.name="FlutterDevices",this.description="flutter devices list",this.defaultAction="run",this.actions=[],this.actions.push({name:"run",multiple:!1,execute:e=>r(this,void 0,void 0,(function*(){Array.isArray(e)||s.commands.executeCommand("flutter.run","-d",e.data.deviceId)}))})}loadItems(){return r(this,void 0,void 0,(function*(){const{err:e,stdout:t}=yield a.execCommand("flutter devices");let n=[];return e||(n=t.split(u.lineBreak).filter(e=>4===e.split("•").length).map(e=>{const t=e.split("•");return{name:t[0].trim(),deviceId:t[1].trim(),platform:t[2].trim(),system:t[3].trim()}})),n.map(e=>({label:`${o.default.yellow(e.name)} • ${o.default.gray(`${e.deviceId} • ${e.platform} • ${e.system}`)}`,filterText:e.name,data:e}))}))}}},function(e,t,n){var r={};e.exports=r,r.themes={};var i=n(18),s=r.styles=n(133),o=Object.defineProperties,a=new RegExp(/[\r\n]+/g);r.supportsColor=n(134).supportsColor,void 0===r.enabled&&(r.enabled=!1!==r.supportsColor()),r.enable=function(){r.enabled=!0},r.disable=function(){r.enabled=!1},r.stripColors=r.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")};r.stylize=function(e,t){if(!r.enabled)return e+"";var n=s[t];return!n&&t in r?r[t](e):n.open+e+n.close};var u=/[|\\{}()[\]^$+*?.]/g;function c(e){var t=function e(){return f.apply(e,arguments)};return t._styles=e,t.__proto__=h,t}var l,d=(l={},s.grey=s.gray,Object.keys(s).forEach((function(e){s[e].closeRe=new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(u,"\\$&")}(s[e].close),"g"),l[e]={get:function(){return c(this._styles.concat(e))}}})),l),h=o((function(){}),d);function f(){var e=Array.prototype.slice.call(arguments).map((function(e){return null!=e&&e.constructor===String?e:i.inspect(e)})).join(" ");if(!r.enabled||!e)return e;for(var t=-1!=e.indexOf("\n"),n=this._styles,o=n.length;o--;){var u=s[n[o]];e=u.open+e.replace(u.closeRe,u.open)+u.close,t&&(e=e.replace(a,(function(e){return u.close+e+u.open})))}return e}r.setTheme=function(e){if("string"!=typeof e)for(var t in e)!function(t){r[t]=function(n){if("object"==typeof e[t]){var i=n;for(var s in e[t])i=r[e[t][s]](i);return i}return r[e[t]](n)}}(t);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var p=function(e,t){var n=t.split("");return(n=n.map(e)).join("")};for(var g in r.trap=n(136),r.zalgo=n(137),r.maps={},r.maps.america=n(138)(r),r.maps.zebra=n(139)(r),r.maps.rainbow=n(140)(r),r.maps.random=n(141)(r),r.maps)!function(e){r[e]=function(t){return p(r.maps[e],t)}}(g);o(r,function(){var e={};return Object.keys(d).forEach((function(t){e[t]={get:function(){return c([t])}}})),e}())},function(e,t){var n={};e.exports=n;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach((function(e){var t=r[e],i=n[e]=[];i.open="["+t[0]+"m",i.close="["+t[1]+"m"}))},function(e,t,n){"use strict";var r=n(4),i=n(135),s=process.env,o=void 0;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===o)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==o)return 0;var t=o?1:0;if("win32"===process.platform){var n=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((function(e){return e in s}))||"codeship"===s.CI_NAME?1:t;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in s){var a=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)?1:"COLORTERM"in s?1:(s.TERM,t)}(e))}i("no-color")||i("no-colors")||i("color=false")?o=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(o=!0),"FORCE_COLOR"in s&&(o=0===s.FORCE_COLOR.length||0!==parseInt(s.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,n){"use strict";e.exports=function(e,t){var n=(t=t||process.argv).indexOf("--"),r=/^-{1,2}/.test(e)?"":"--",i=t.indexOf(r+e);return-1!==i&&(-1===n||i<n)}},function(e,t){e.exports=function(e,t){var n="";e=(e=e||"Run the trap, drop the bass").split("");var r={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return e.forEach((function(e){e=e.toLowerCase();var t=r[e]||[" "],i=Math.floor(Math.random()*t.length);n+=void 0!==r[e]?r[e][i]:e})),n}},function(e,t){e.exports=function(e,t){e=e||"   he is here   ";var n={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},r=[].concat(n.up,n.down,n.mid);function i(e){return Math.floor(Math.random()*e)}function s(e){var t=!1;return r.filter((function(n){t=n===e})),t}return function(e,t){var r,o,a="";for(o in(t=t||{}).up=void 0===t.up||t.up,t.mid=void 0===t.mid||t.mid,t.down=void 0===t.down||t.down,t.size=void 0!==t.size?t.size:"maxi",e=e.split(""))if(!s(o)){switch(a+=e[o],r={up:0,down:0,mid:0},t.size){case"mini":r.up=i(8),r.mid=i(2),r.down=i(8);break;case"maxi":r.up=i(16)+3,r.mid=i(4)+1,r.down=i(64)+3;break;default:r.up=i(8)+1,r.mid=i(6)/2,r.down=i(8)+1}var u=["up","mid","down"];for(var c in u)for(var l=u[c],d=0;d<=r[l];d++)t[l]&&(a+=n[l][i(n[l].length)])}return a}(e,t)}},function(e,t){e.exports=function(e){return function(t,n,r){if(" "===t)return t;switch(n%3){case 0:return e.red(t);case 1:return e.white(t);case 2:return e.blue(t)}}}},function(e,t){e.exports=function(e){return function(t,n,r){return n%2==0?t:e.inverse(t)}}},function(e,t){e.exports=function(e){var t=["red","yellow","green","blue","magenta"];return function(n,r,i){return" "===n?n:e[t[r++%t.length]](n)}}},function(e,t){e.exports=function(e){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(n,r,i){return" "===n?n:e[t[Math.round(Math.random()*(t.length-2))]](n)}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(37)),o=n(7),a=n(6),u=n(11);t.default=class{constructor(){this.name="FlutterEmulators",this.description="flutter emulators list",this.defaultAction="run",this.actions=[],this.actions.push({name:"run",multiple:!1,execute:e=>r(this,void 0,void 0,(function*(){Array.isArray(e)||(u.notification.show(`launch emulator ${e.data.id}`),yield o.execCommand(`flutter emulators --launch ${e.data.id}`))}))})}loadItems(){return r(this,void 0,void 0,(function*(){const{err:e,stdout:t}=yield o.execCommand("flutter emulators");let n=[];return e||(n=t.split(a.lineBreak).filter(e=>4===e.split("•").length).map(e=>{const t=e.split("•");return{name:t[1].trim(),id:t[0].trim(),platform:t[2].trim(),system:t[3].trim()}})),n.map(e=>({label:`${s.default.yellow(e.id)} • ${s.default.gray(`${e.name} • ${e.platform} • ${e.system}`)}`,filterText:e.name,data:e}))}))}}}]));