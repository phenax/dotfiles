"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const import_cost_1 = require("import-cost");
const coc_nvim_1 = require("coc.nvim");
const codeLensProvider_1 = tslib_1.__importDefault(require("./codeLensProvider"));
const logger_1 = tslib_1.__importDefault(require("./logger"));
let active = true;
function isActive() {
    return active;
}
function activate(context) {
    logger_1.default.init(context);
    logger_1.default.log('starting...');
    coc_nvim_1.languages.registerCodeLensProvider([
        { language: 'typescript' },
        { language: 'typescript.tsx' },
        { language: 'typescriptreact' },
        { language: 'javascript' },
        { language: 'javascript.jsx' },
        { language: 'javascriptreact' }
    ], new codeLensProvider_1.default(isActive));
    coc_nvim_1.commands.registerCommand('importCost.toggle', () => { active = !active; });
    return { ready: Promise.resolve() };
}
exports.activate = activate;
function deactivate() {
    import_cost_1.cleanup();
}
exports.deactivate = deactivate;
//# sourceMappingURL=extension.js.map